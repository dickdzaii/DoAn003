if (self.CavalryLogger) { CavalryLogger.start_js(["6K2zY"]); }

__d("MessengerEmojiConfig",[],(function(a,b,c,d,e,f){e.exports={emoji_colors:[0,127995,127996,127997,127998,127999]}}),null);
__d("MessengerView",[],(function(a,b,c,d,e,f){e.exports={DETAIL:{COMPOSE:"detail/compose",GALLERY:"detail/gallery",THREAD:"detail/thread",PAYTHREAD:"detail/paythread",PAYFRIENDPICKER:"detail/payfriendpicker"},MASTER:{PAYMENT:"master/payment",PEOPLE:"master/people",RECENT:"master/recent",SEE_ALL_GROUPS:"master/sagroups",SEE_ALL_PAGES:"master/sapages",SEE_ALL_PEOPLE:"master/sapeople",SEARCH:"master/search",SEARCH_MESSAGES:"master/search_messages",SUPPORT:"master/support"}}}),null);
__d("WorkChatBulkUpdatePinnedThreadsMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ThreadBatchUpdatePinStatusData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"thread_batch_update_pin_status",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ThreadBatchUpdatePinStatusResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_subscription_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"WorkChatBulkUpdatePinnedThreadsMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"WorkChatBulkUpdatePinnedThreadsMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"WorkChatBulkUpdatePinnedThreadsMutation",id:"1320325544758295",text:null,metadata:{}}}}();e.exports=a}),null);
__d("CreateCustomerChatPluginGuestUserMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CustomerChatPluginGuestData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"create_customer_chat_plugin_guest_user",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateCustomerChatPluginGuestUserResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"session_key",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"fbid",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CreateCustomerChatPluginGuestUserMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"CreateCustomerChatPluginGuestUserMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"CreateCustomerChatPluginGuestUserMutation",id:"3716118951738979",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LiveChatPluginGuestPersistentMenuQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"data",type:"CustomerChatPluginGuestUserPersistentMenuParam!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"customer_chat_plugin_guest_user_persistent_menu",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"CustomerChatPluginGuestUserPersistentMenuResult",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"menu_items",storageKey:null,args:null,concreteType:"MessengerNonNestedCTAShareData",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"action_link",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"action_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"LiveChatPluginGuestPersistentMenuQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"LiveChatPluginGuestPersistentMenuQuery",argumentDefinitions:a,selections:b},params:{operationKind:"query",name:"LiveChatPluginGuestPersistentMenuQuery",id:"3081508555256300",text:null,metadata:{}}}}();e.exports=a}),null);
__d("LivechatPluginGuestMessageThreadQueryContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"data",type:"GuestMessageThreadQueryParams!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"data"}],c={kind:"ScalarField",alias:null,name:"folder",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"unread_count",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"messages_count",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"message_sender",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[f,{kind:"ScalarField",alias:null,name:"email",args:null,storageKey:null}]},h={kind:"ScalarField",alias:null,name:"message_id",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"message_source_data",storageKey:null,args:null,concreteType:"MessageSourceData",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"message_source",args:null,storageKey:null}]},j={kind:"ScalarField",alias:null,name:"tags_list",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"offline_threading_id",args:null,storageKey:null},l={kind:"LinkedField",alias:null,name:"message_thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"other_user_id",args:null,storageKey:null}]},m={kind:"ScalarField",alias:null,name:"timestamp_precise",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"platform_xmd_encoded",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"message_reactions",storageKey:null,args:null,concreteType:"MessageReaction",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction",args:null,storageKey:null}]},p={kind:"ScalarField",alias:null,name:"is_sponsored",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"is_user_generated",args:null,storageKey:null},r=[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}],s={kind:"LinkedField",alias:null,name:"message",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:r},t={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},x={kind:"InlineFragment",type:"MessageImage",selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[t,u,v]},w]},y={kind:"ScalarField",alias:null,name:"unread",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"deduplication_key",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null};r={kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:r};t=[t,v,u];v={kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:t};u={kind:"LinkedField",alias:null,name:"animated_image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:t};t={kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null};var B={kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[v,u,t]},C=[f,{kind:"ScalarField",alias:null,name:"page_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_disabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_mutable_by_server",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"cta_render_style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"action_open_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"action_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"action_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"logging_token",args:null,storageKey:null}];w={kind:"InlineFragment",type:"MessengerBusinessMessage",selections:[{kind:"ScalarField",alias:null,name:"template_type",args:null,storageKey:null},w,{kind:"ScalarField",alias:null,name:"image_width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"snippet",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"business_items",storageKey:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"MessengerRetailItem",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"call_to_actions",storageKey:null,args:null,concreteType:"MessengerCallToAction",plural:!0,selections:C},{kind:"LinkedField",alias:null,name:"default_action",storageKey:null,args:null,concreteType:"MessengerCallToAction",plural:!1,selections:C},{kind:"ScalarField",alias:null,name:"description",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"image_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"first_metaline",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"second_metaline",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"third_metaline",args:null,storageKey:null},f,{kind:"ScalarField",alias:null,name:"image_aspect_ratio",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"target_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"source_name",args:null,storageKey:null}]}]}]};C={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};v={kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[C,v,u,t,f]};return{kind:"Request",fragment:{kind:"Fragment",name:"LivechatPluginGuestMessageThreadQueryContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"guest_message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[c,d,e,{kind:"LinkedField",alias:null,name:"messages",storageKey:null,args:null,concreteType:"MessagesOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[g,h,i,j,k,l,m,n,o,p,q,{kind:"InlineFragment",type:"UserMessage",selections:[s,{kind:"LinkedField",alias:null,name:"blob_attachments",storageKey:null,args:null,concreteType:null,plural:!0,selections:[x]},y,{kind:"LinkedField",alias:null,name:"extensible_attachment",storageKey:null,args:null,concreteType:"ExtensibleMessageAttachment",plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"story_attachment",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"subattachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[z,A,r,B,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f]}]},z,A,r,B,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,w]}]}]}]}]}]}]}]},operation:{kind:"Operation",name:"LivechatPluginGuestMessageThreadQueryContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"guest_message_thread",storageKey:null,args:b,concreteType:"MessageThread",plural:!1,selections:[c,d,e,{kind:"LinkedField",alias:null,name:"messages",storageKey:null,args:null,concreteType:"MessagesOfThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[C,g,h,i,j,k,l,m,n,o,p,q,f,{kind:"InlineFragment",type:"UserMessage",selections:[s,{kind:"LinkedField",alias:null,name:"blob_attachments",storageKey:null,args:null,concreteType:null,plural:!0,selections:[C,f,x]},y,{kind:"LinkedField",alias:null,name:"extensible_attachment",storageKey:null,args:null,concreteType:"ExtensibleMessageAttachment",plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"story_attachment",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"subattachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[z,A,r,v,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[C,f]}]},z,A,r,v,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[C,f,w]}]}]}]}]}]},f]}]},params:{operationKind:"query",name:"LivechatPluginGuestMessageThreadQueryContainerQuery",id:"2147105908722549",text:null,metadata:{live:{polling_interval:1e3}}}}}();e.exports=a}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){e.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":trans:":"transflag",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",transflag:"1f3f3_200d_26a7",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",transflag:":trans:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("MessengerHotlikeEmoji.re",["MessengerHotlikeEmoji.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotlikeEmoji.bs").isMessengerHotlike;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){a={decode:function(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}},encode:function(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}};e.exports=a}),null);
__d("messengerIterateEmoji",["MessengerSupportedEmoji","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=String(a);while(f){a=b("ifRequired")("MessengerSupportedEmojiUtils",function(a){return a.getEmojiMatchObj(f)},function(){return b("MessengerSupportedEmoji").getEmojiMatchObj(f)});if(a){var g=a.offset+a.length,h=f.substr(0,a.is_supported?a.offset:g);d(h);a.is_supported&&c(a.emoji_str,a.emoji_key,e);h=f.substr(g);f=h}else break}d(f)}e.exports=a}),null);
__d("messengerIterateEmoticons",["EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f,g,h;a=String(a);while(a){g=b("EmoticonEmojiList").regexp.exec(a);if(g)f=g.index+g[1].length,h=a.substr(0,f),g=g[2],f=a.substr(f+g.length),d(h),c(g,b("EmoticonEmojiList").names[g],e),a=f;else break}d(a)}e.exports=a}),null);
__d("MessengerTextWithEmoticons.react",["cx","fbt","BaseTextWithDecoration.react","EmojiImageURL","EmoticonEmojiList","FBEmojiResource","FBEmojiUtils","Image.react","MessengerHotlikeEmoji.re","React","messengerIterateEmoji","messengerIterateEmoticons"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c,d,e){var f=e===!0?128:16;a=!a&&!b("MessengerHotlikeEmoji.re").isMessengerHotlike(d)?new(b("FBEmojiResource"))(b("FBEmojiUtils").resolveAliasFromKey(d)||d).getImageURL(f):b("EmojiImageURL").getMessengerURL(d,f);d=e===!0?"_1ift _5m3a":"_1ift _2560";return b("React").jsx(b("Image.react"),{alt:c,className:d,src:a})}function j(a,c,d){var e=d===!0?128:16,f=b("EmoticonEmojiList").emote2emojis[c],g=f?b("MessengerHotlikeEmoji.re").isMessengerHotlike(f)?b("EmojiImageURL").getMessengerURL(f,e):new(b("FBEmojiResource"))(f).getImageURL(e):null;if(g!=null&&g!==""){f=String.fromCodePoint(parseInt(f,e));e=d===!0?"_1ift _5m3a":"_1ift _2560";return b("React").jsx(b("Image.react"),{alt:f,className:e,src:g})}d=h._("Bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac {emoticonName}",[h._param("emoticonName",c)]);return b("React").jsx("span",{"aria-label":d,children:a})}function k(a,b,c){return function(d,e,f){var g=function(c,d,a){e(b(c,d,a))};a(String(d),g,f,c)}}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.text!==this.props.text};d.render=function(){var a=[k(b("messengerIterateEmoji"),i.bind(null,!!this.props.forceMessengerEmoji),this.props.customSize),k(b("messengerIterateEmoticons"),j,this.props.customSize)];return b("React").jsx(b("BaseTextWithDecoration.react"),babelHelpers["extends"]({},this.props,{text:this.props.text,decorators:a}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerTextWithEntities.react",["BaseTextWithEntities.react","Link.react","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.replace(/<3\b|&hearts;/g,"\u2665")}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(d.props.renderEmoticons||d.props.renderEmoji)return b("React").jsx(b("MessengerTextWithEmoticons.react"),{text:a,customSize:d.props.customSize,renderEmoticons:d.props.renderEmoticons,renderEmoji:d.props.renderEmoji});else return g(a)},d.$2=function(a,c){if(d.props.interpolator)return d.props.interpolator(a,c);else return b("React").jsx(b("Link.react"),{href:c.entity,children:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{aggregatedRanges:this.props.aggregatedRanges,imageRanges:this.props.imageRanges,metaRanges:this.props.metaRanges,rangeRenderer:this.$2,ranges:this.props.ranges,text:this.props.text,textRenderer:this.$1}))};return c}(b("React").Component);e.exports=a}),null);
__d("FDSLink.react",["FDSPrivateThemeContext.react","React","SUILink.react","getSUILinkUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIThemeGetter")({SUILink:b("getSUILinkUniform.fds")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=g(this.context);return b("React").jsx(b("SUILink.react"),{"data-testid":a["data-testid"],display:a.display,href:a.href,isInverseColor:a.isInverseColor,margin:a.margin,onClick:a.onClick,rel:a.rel,showUnderline:a.showUnderline,target:a.target,theme:c,width:a.width,children:a.children})};return c}(b("React").PureComponent);a.contextType=b("FDSPrivateThemeContext.react");a.defaultProps={display:"inline",isInverseColor:!1,showUnderline:"hover"};e.exports=b("makeFDSStandardComponent")("FDSLink",a)}),null);
__d("GraphQLLiveQueryEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:GraphQLLiveQueryEventsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:GraphQLLiveQueryEventsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:GraphQLLiveQueryEventsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setConfigID=function(a){this.$1.config_id=a;return this};c.setDocID=function(a){this.$1.doc_id=a;return this};c.setErrorInfo=function(a){this.$1.error_info=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventReason=function(a){this.$1.event_reason=a;return this};c.setEventSource=function(a){this.$1.event_source=a;return this};c.setEventStreamName=function(a){this.$1.event_stream_name=a;return this};c.setExecutionMode=function(a){this.$1.execution_mode=a;return this};c.setForceLogContext=function(a){this.$1.force_log_context=a;return this};c.setLiveQueryRequestID=function(a){this.$1.live_query_request_id=a;return this};c.setLoggingSamplingRate=function(a){this.$1.logging_sampling_rate=a;return this};c.setLqmImplementation=function(a){this.$1.lqm_implementation=a;return this};c.setQueryName=function(a){this.$1.query_name=a;return this};c.setResolvedConfigKey=function(a){this.$1.resolved_config_key=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={config_id:!0,doc_id:!0,error_info:!0,event:!0,event_reason:!0,event_source:!0,event_stream_name:!0,execution_mode:!0,force_log_context:!0,live_query_request_id:!0,logging_sampling_rate:!0,lqm_implementation:!0,query_name:!0,resolved_config_key:!0,time:!0,weight:!0};e.exports=a}),null);
__d("IgnoreMessagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,platform:!0,thread_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerWebPluginAnonymousTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebPluginAnonymousLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebPluginAnonymousLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebPluginAnonymousLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setCallsite=function(a){this.$1.callsite=a;return this};c.setDebugData=function(a){this.$1.debug_data=a;return this};c.setDeltaType=function(a){this.$1.delta_type=a;return this};c.setDeviceParam=function(a){this.$1.device_param=a;return this};c.setDomainSource=function(a){this.$1.domain_source=a;return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimestamp=function(a){this.$1.event_timestamp=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStacktrace=function(a){this.$1.exception_stacktrace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setGateway=function(a){this.$1.gateway=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPluginExtra=function(a){this.$1.plugin_extra=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setRefererURI=function(a){this.$1.referer_uri=a;return this};c.setRequestHeaders=function(a){this.$1.request_headers=a;return this};c.setRequestID=function(a){this.$1.request_id=a;return this};c.setRequestParam=function(a){this.$1.request_param=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUpstreamEvent=function(a){this.$1.upstream_event=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,callsite:!0,debug_data:!0,delta_type:!0,device_param:!0,domain_source:!0,duration:!0,event:!0,event_timestamp:!0,exception_message:!0,exception_stacktrace:!0,exception_type:!0,gateway:!0,page_id:!0,plugin_extra:!0,referer_uri:!0,request_headers:!0,request_id:!0,request_param:!0,time:!0,upstream_event:!0,weight:!0};e.exports=a}),null);
__d("MessengerStateProcessor",["MercuryIDs","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerParticipants.bs","MessengerURIConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={preprocess:function(a){__p&&__p();var c=a.activeThreadID;if(c){var d=b("MercuryIDs").getUserIDFromThreadID(c),e=d&&b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(e&&e.type!=="event")a.threadKey=e.vanity||d;else if(d&&!e){e=b("MercuryIDs").getParticipantIDFromUserID(d);a.threadKey=b("MercuryVanityIDMap.bs").hasID(e)?b("MercuryVanityIDMap.bs").getVanity(e):d}else{e=b("MercuryThreadIDMap").get();d=e.getServerIDFromClientIDNow(c);a.threadKey=d||b("MercuryIDs").tokenize(c).value}}delete a.activeThreadID;return a},postprocess:function(a){var c=b("MercuryThreadIDMap").get(),d=g(a.threadKey),e;e=b("MercuryIDs").isValid(d)?d:c.getClientIDFromServerIDNow(d);if(!e){d=b("MessengerParticipants.bs").getIDFromVanityOrFBID(d);d&&(e=b("MercuryIDs").getThreadIDFromParticipantID(d))}e&&(a.activeThreadID=e,a.serverThreadID=c.getServerIDFromClientIDNow(e));delete a.threadKey;return a},supportInboxPostprocess:function(a){a.threadKey&&(a.activeThreadID=b("MercuryIDs").getThreadIDFromSupportInboxItemID(a.threadKey));delete a.threadKey;return a}};function g(a){return!a?null:a.startsWith(b("MessengerURIConstants").GROUP_PREFIX)?a.substr(b("MessengerURIConstants").GROUP_PREFIX.length):a}e.exports=a}),null);
__d("MessengerURISerializer",["CurrentEnvironment","MercuryFilters.bs","MercuryIDs","MessagingTag","MessengerStateProcessor","MessengerURIConstants","MessengerView","URI","WWWBase","gkx","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="/?$",i="/",j=function(a,c){a.setPath(b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX+c:c)},k=b("qex")._("1097094"),l=function(a,c){var d=a.getPath();b("CurrentEnvironment").facebookdotcom&&!d.startsWith(b("MessengerURIConstants").FACEBOOK_PREFIX)&&(c=b("MessengerURIConstants").FACEBOOK_PREFIX+c);a.setPath(a.getPath()+c)};a={serialize:function(a){__p&&__p();var c=new(g||(g=b("URI")))(b("WWWBase").uri);a=b("MessengerStateProcessor").preprocess(a);switch(a.masterView){case b("MessengerView").MASTER.PAYMENT:j(c,b("MessengerURIConstants").PAYMENT_PATH);break;case b("MessengerView").MASTER.PEOPLE:j(c,b("MessengerURIConstants").PEOPLE_PATH);break;case b("MessengerView").MASTER.SUPPORT:j(c,b("MessengerURIConstants").SUPPORT_PATH);break;case b("MessengerView").MASTER.SEARCH:j(c,b("MessengerURIConstants").SEARCH_PATH);break;case b("MessengerView").MASTER.SEARCH_MESSAGES:case b("MessengerView").MASTER.SEE_ALL_GROUPS:case b("MessengerView").MASTER.SEE_ALL_PAGES:case b("MessengerView").MASTER.SEE_ALL_PEOPLE:k&&j(c,b("MessengerURIConstants").SEARCH_PATH);break}switch(a.folder){case b("MessagingTag").OTHER:j(c,b("MessengerURIConstants").FILTERED_REQUESTS_PATH);break;case b("MessagingTag").ACTION_ARCHIVED:j(c,b("MessengerURIConstants").ARCHIVED_PATH);break;case b("MessagingTag").PENDING:j(c,b("MessengerURIConstants").MESSAGE_REQUESTS_PATH);break;case b("MessagingTag").MARKETPLACE_FOLDER:j(c,b("MessengerURIConstants").FOLDERS_PATH+"/"+a.folderKey);break}a.detailView===b("MessengerView").DETAIL.GALLERY?j(c,b("MessengerURIConstants").GALLERY_PATH):a.detailView===b("MessengerView").DETAIL.PAYTHREAD?(l(c,b("MessengerURIConstants").PAYMENT_PAY_PATH),a.threadKey&&c.addQueryData("id",a.threadKey)):a.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER?l(c,b("MessengerURIConstants").PAYMENT_PAY_PATH):a.detailView===b("MessengerView").DETAIL.COMPOSE?l(c,b("MessengerURIConstants").COMPOSE_SUBPATH):a.threadKey?a.masterView===b("MessengerView").MASTER.PAYMENT?(j(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):l(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey):a.masterView===b("MessengerView").MASTER.PAYMENT?(j(c,""),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):l(c,"");a.extraQueryParams&&c.addQueryData(a.extraQueryParams);b("MercuryFilters.bs").isSupportedFilter(a.filter)&&c.addQueryData({filter:a.filter});if(a.query!=null)if(a.masterView===b("MessengerView").MASTER.SEE_ALL_PEOPLE||a.masterView===b("MessengerView").MASTER.SEE_ALL_GROUPS||a.masterView===b("MessengerView").MASTER.SEE_ALL_PAGES)c.addQueryData("t",a.seeAllType),c.addQueryData("sa",a.query);else if(k)a.masterView===b("MessengerView").MASTER.SEARCH?c.addQueryData("q",a.query):a.masterView===b("MessengerView").MASTER.SEARCH_MESSAGES&&c.addQueryData("qa",a.query);else{var d;c.addQueryData((d={},d[a.masterView===b("MessengerView").MASTER.SEARCH?"qa":"q"]=a.query,d))}a.threadIDs&&c.addQueryData({threadIDs:JSON.stringify(a.threadIDs)});a.mid&&c.addQueryData({mid:a.mid});return c},getNonMessengerState:function(){return{notMessenger:!0,filter:b("MercuryFilters.bs").all,folder:b("MessagingTag").INBOX,masterView:b("MessengerView").MASTER.RECENT}},deserialize:function(a){__p&&__p();var c={},d=a.getPath(),e=b("gkx")("997564"),f=new RegExp("^"+b("MessengerURIConstants").FACEBOOK_PREFIX+"(/|$)");if(b("CurrentEnvironment").facebookdotcom&&!(f.test(d)||e&&d=="/"))return this.getNonMessengerState();f=d.replace(b("MessengerURIConstants").FACEBOOK_PREFIX,"");var g;e=a.getQueryData();d=e.filter;a=e.mid;var i=e.q,j=e.qa,l=e.sa,o=e.t,p=e.threadIDs;e=babelHelpers.objectWithoutPropertiesLoose(e,["filter","mid","q","qa","sa","t","threadIDs"]);c.query=j||i;c.sa=l;c.seeAllType=o;if(p)try{g=JSON.parse(p)}catch(a){}g?c.threadIDs=g.filter(function(a){return b("MercuryIDs").isValidThreadID(a)}):c.threadIDs=null;f.match("^"+b("MessengerURIConstants").PEOPLE_PATH)?c.masterView=b("MessengerView").MASTER.PEOPLE:f.match("^"+b("MessengerURIConstants").SUPPORT_PATH)?c.masterView=b("MessengerView").MASTER.SUPPORT:f.match("^"+b("MessengerURIConstants").PAYMENT_PATH)?c.masterView=b("MessengerView").MASTER.PAYMENT:f.match("^"+b("MessengerURIConstants").SEARCH_PATH)?k?c.masterView=this.updateMasterViewForSearchRefactor(j,l,o):c.masterView=b("MessengerView").MASTER.SEARCH:c.masterView=b("MessengerView").MASTER.RECENT;f.match("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH)?c.folder=b("MessagingTag").OTHER:f.match("^"+b("MessengerURIConstants").ARCHIVED_PATH)?c.folder=b("MessagingTag").ACTION_ARCHIVED:f.match("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH)?c.folder=b("MessagingTag").PENDING:f.match("^"+b("MessengerURIConstants").FOLDERS_PATH)?c.folder=b("MessagingTag").MARKETPLACE_FOLDER:c.folder=b("MessagingTag").INBOX;if(f.match(b("MessengerURIConstants").COMPOSE_SUBPATH+h))c.detailView=b("MessengerView").DETAIL.COMPOSE;else if(f.match("^"+b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))e&&e.id?(c.threadKey=e.id,c.detailView=b("MessengerView").DETAIL.PAYTHREAD):c.detailView=b("MessengerView").DETAIL.PAYFRIENDPICKER;else{i=m(f);i&&(c.threadKey=i,c.detailView=b("MessengerView").DETAIL.THREAD);p=n(f);p&&(c.folderKey=p)}b("MercuryFilters.bs").isSupportedFilter(d)?c.filter=d:c.filter=b("MercuryFilters.bs").all;c.mid=a;c.extraQueryParams=e;if(c.masterView===b("MessengerView").MASTER.SUPPORT)return b("MessengerStateProcessor").supportInboxPostprocess(c);f.match("^"+b("MessengerURIConstants").GALLERY_PATH)&&(c.detailView=b("MessengerView").DETAIL.GALLERY);return b("MessengerStateProcessor").postprocess(c)},updateMasterViewForSearchRefactor:function(a,c,d){if(a)return b("MessengerView").MASTER.SEARCH_MESSAGES;else if(c&&d)switch(d){case"friend":case"non_friend":return b("MessengerView").MASTER.SEE_ALL_PEOPLE;case"page":return b("MessengerView").MASTER.SEE_ALL_PAGES;case"thread":return b("MessengerView").MASTER.SEE_ALL_GROUPS;default:return b("MessengerView").MASTER.SEARCH}else return b("MessengerView").MASTER.SEARCH}};function m(a){a=a.match(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+h);return a&&decodeURIComponent(a[1])}function n(a){a=a.match(b("MessengerURIConstants").FOLDERS_PATH+i+"([^/]+)"+b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+h);return a&&decodeURIComponent(a[1])}e.exports=a}),null);
__d("MercuryFilters.re",["MercuryFilters.bs"],(function(a,b,c,d,e,f){__p&&__p();c=(a=b("MercuryFilters.bs")).all;f.all=c;d=a.unread;f.unread=d;e=a.groups;f.groups=e;b=a.getSupportedFilters;f.getSupportedFilters=b;c=a.isSupportedFilter;f.isSupportedFilter=c}),null);
__d("WorkGalahadDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("WorkGalahadChatChannelActions",["MercuryFilters.re","MessagingTag","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_folder",folder:a})}function c(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_filter",filter:a})}e.exports={changeFolder:a,changeFilter:c}}),null);
__d("MessengerActions",["invariant","Bootloader","EventProfiler","LogHistory","MercuryIDs","MessengerDispatcher","MessengerThreadFetchLoggerUtil","MessengerURISerializer","MessengerView","URI","WorkGalahadChatChannelActions","WorkGalahadSettings","goURI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("keyMirror")({CANCEL_FILE_UPLOAD:null,EMPTY_FILES:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,REMOVE_SHARE_PREVIEW:null,PREPARE_FILES_FOR_SEND:null,REPLACE_STATE:null,SELECT_THREAD:null,UPDATE_MDOT_ME:null,UPDATE_THREAD_TAG:null,UPLOAD_FILE_FAILED:null,UPLOADED_FILE:null}),j=b("LogHistory").getInstance("messenger_actions"),k={Types:i,changeDetailView:function(a){m(function(b){return b.detailView!==a?{detailView:a}:null})},changeMasterView:function(a){m(function(c){if(c.masterView!==a){var d={masterView:a};c.masterView===b("MessengerView").MASTER.SEARCH&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_BACK_BUTTON)},"MessengerActions"));return d}return null})},selectThread:function(a,c){__p&&__p();if(c==="meeting_room_page"){n(a);return}b("EventProfiler").tagCurrentActiveInteractionsAs("MessengerThreadSwitch");b("MessengerDispatcher").dispatch({type:i.SELECT_THREAD,threadID:a});m(function(c){if(c.activeThreadID===a)return null;var d={query:c.query,activeThreadID:a,detailView:b("MessengerView").DETAIL.THREAD,mid:null};a&&(b("MessengerThreadFetchLoggerUtil").markerStart(a),c.query!==void 0&&c.masterView!==b("MessengerView").MASTER.SEARCH&&c.masterView!==b("MessengerView").MASTER.SEARCH_MESSAGES&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){if(!a&&!b)return;a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_BY_CHANGING_THREADS)},"MessengerActions")));return d})},changeState:function(a){b("MessengerDispatcher").dispatch({type:i.REPLACE_STATE,nextState:a})},changeMDotMeReferral:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:k.Types.UPDATE_MDOT_ME,refCode:a,refThreadID:c})},changeThreadTag:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:k.Types.UPDATE_THREAD_TAG,messagingTags:a,threadID:c})},changeFolder:function(a,c){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFolder(a):m(function(b){return b.folder!==a?c?{folder:a,folderKey:c}:{folder:a}:null})},changeFilter:function(a){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFilter(a):m(function(b){return b.filter!==a?{filter:a}:null})},changeMid:function(a){m(function(b){return b.mid!==a?{mid:a}:null})},changeID:function(a){m(function(b){return b.extraQueryParams.id!==a?{extraQueryParams:babelHelpers["extends"]({},b.extraQueryParams,{id:a})}:null})},prepareFilesForSend:function(a,c,d){j.debug("Add files from "+d,a);if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.PREPARE_FILES_FOR_SEND,threadID:a,files:c})},uploadedFile:function(a,c,d){if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.UPLOADED_FILE,threadID:a,uploadID:c,payload:d})},cancelFileUpload:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.CANCEL_FILE_UPLOAD,threadID:a,uploadID:c})},uploadFileFailed:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.UPLOAD_FILE_FAILED,threadID:a,uploadID:c})},cleanFiles:function(a){j.debug("clean files",a);if(!a)return;b("MessengerDispatcher").dispatch({type:k.Types.EMPTY_FILES,threadID:a})},loadingPreview:function(a,c){b("MessengerDispatcher").dispatch({type:k.Types.LINK_PREVIEW,threadID:a,match:c})},loadingShareData:function(a){b("MessengerDispatcher").dispatch({type:k.Types.LOADING_SHARE_DATA,threadID:a})},loadedShareData:function(a,c){b("MessengerDispatcher").dispatch({type:k.Types.LOADED_SHARE_DATA,threadID:a,attachmentData:c})},removeSharePreview:function(a){b("MessengerDispatcher").dispatch({type:k.Types.REMOVE_SHARE_PREVIEW,threadID:a})}};function l(a,b){return a.detailView==null}function m(a){var c=b("MessengerURISerializer").deserialize(new(h||(h=b("URI")))(window.location.href));a=a(c);var d=l(c,a);a&&b("goURI")(b("MessengerURISerializer").serialize(Object.assign(c,a)),!1,d)}function n(a){!a&&g(0,5146);a=b("MercuryIDs").getUserIDFromThreadID(a);!a&&g(0,5147);var c=new(h||(h=b("URI")))(),d=c.getQualifiedURI().getSubdomain();c.setDomain("facebook.com").setSubdomain(d).setPath("/"+a).setProtocol("https");window.open(c,"_blank")}e.exports=k}),null);
__d("ContextualLayerAutoFlipHorizontal",["ContextualLayerAutoFlip"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValidPositions=function(a){return[a.getPosition()]};return b}(b("ContextualLayerAutoFlip"));e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("ReasonReactCompat.bs",["ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("ReasonReact.bs").wrapJsForReason;c=b("ReasonReact.bs").wrapReasonForJs;f.wrapReactForReasonReact=a;f.wrapReasonReactForReact=c}),null);
__d("Image.bs",["bs_caml_option","Image.react","ReasonReactCompat.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k){__p&&__p();var l={};a!==void 0&&(l.className=b("bs_caml_option").valFromOption(a));c!==void 0&&(l.alt=b("bs_caml_option").valFromOption(c));d!==void 0&&(l["aria-label"]=b("bs_caml_option").valFromOption(d));e!==void 0&&(l["aria-busy"]=b("bs_caml_option").valFromOption(e));f!==void 0&&(l.src=b("bs_caml_option").valFromOption(f));g!==void 0&&(l.height=b("bs_caml_option").valFromOption(g));h!==void 0&&(l.title=b("bs_caml_option").valFromOption(h));i!==void 0&&(l.width=b("bs_caml_option").valFromOption(i));j!==void 0&&(l.style=b("bs_caml_option").valFromOption(j));return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("Image.react"),l,k)}c={};f.make=a;f.Jsx3=c}),null);
__d("MessengerSpinnerReact.bs",["cx","ix","fbt","Image.bs","React","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=h("86853"),k=h("86857"),l=h("86854"),m=b("ReasonReact.bs").statelessComponent("MessengerSpinnerReact");function n(a,c,d,e,f){__p&&__p();var g=a!==void 0?a:"",h=c!==void 0?c:"blue",n=d!==void 0?d:24,o=e!==void 0?e:!1,p=function(a){a=n===24;if(a){a=h==="blue";if(a)return j;else return k}else return l},q=function(a){return b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(g,"_3u55 _3qh2"),void 0,i._("\u0110ang t\u1ea3i..."),!0,p(0),n,void 0,n,void 0,[]))};return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],function(a){if(o)return b("React").createElement("div",{className:"_8a6k"},q(0));else return q(0)},m[9],m[10],m[11],m[12]]}a=b("ReasonReact.bs").wrapReasonForJs(m,function(a){var b=a.className,c=a.color,d=a.size;a=a.center;return n(b==null?"":b,c==null?"blue":c,d==null?24:d,a==null?!1:a,[])});c=32;d=24;f.large_size=c;f.medium_size=d;f.blue_src=j;f.grey_src=k;f.large_blue_src=l;f.component=m;f.make=n;f.jsComponent=a}),null);
__d("MessengerSpinner.react",["MessengerSpinnerReact.bs"],(function(a,b,c,d,e,f){e.exports=b("MessengerSpinnerReact.bs").jsComponent,e.exports.large_size=b("MessengerSpinnerReact.bs").large_size,e.exports.medium_size=b("MessengerSpinnerReact.bs").medium_size}),null);
__d("SkinToneEmoji.bs",["bs_caml_array","EmojiFormat.bs","MessengerEmojiConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case"1f385":case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f442":case"1f443":case"1f446":case"1f447":case"1f448":case"1f449":case"1f44a":case"1f44b":case"1f44c":case"1f44d":case"1f44e":case"1f44f":case"1f450":case"1f466":case"1f467":case"1f468":case"1f469":case"1f46e":case"1f470":case"1f471":case"1f472":case"1f473":case"1f474":case"1f475":case"1f476":case"1f477":case"1f478":case"1f47c":case"1f481":case"1f482":case"1f483":case"1f485":case"1f486":case"1f487":case"1f4aa":case"1f575":case"1f590":case"1f595":case"1f596":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64c":case"1f64d":case"1f64e":case"1f64f":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"1f6c0":case"1f918":case"261d":case"26f9":case"270a":case"270b":case"270c":case"270d":return!0;default:return!1}}function h(a){var c=b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039;if(c)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){var b=h(a)===0;if(b)return a;else return a.slice(0,a.length-1|0)}function k(a){var c=b("MessengerEmojiConfig").emoji_colors;c=c.filter(function(b){return b===a});return c.length!==0}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0;c=c?l(a):l(a.slice(0,a.length-1|0));if(c!==0){c=b===0;if(c)return a.slice(0,a.length-1|0);else return i(a.slice(0,a.length-2|0))}else return a}function a(a,b){__p&&__p();if(b!==0){var c=h(a),d=c===0;d=d?a.slice(0):a.slice(0,a.length-1|0);var e=l(d);if(e!==0)return a;else{e=d.concat([b]);d=c===0;if(d)return e;else return e.concat([c])}}else return a}function c(a){return m(j(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(j(a))))}e=65039;f.emoji_modifier_code=e;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isToneModifier=k;f.getTone=l;f.removeTone=m;f.applyTone=a;f.removeAllModifiers=c;f.hasVariations=d}),null);
__d("MessengerEmojiTransitionMapping.bs",["bs_caml_array","EmojiFormat.bs","SkinToneEmoji.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f3cc":case"1f46e":case"1f46f":case"1f471":case"1f473":case"1f477":case"1f481":case"1f482":case"1f486":case"1f487":case"1f575":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64d":case"1f64e":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"26f9":return!0;default:return!1}}function h(a){var c=b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039;if(c)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){var b=h(a)===0;if(b)return a;else return a.slice(0,a.length-1|0)}function k(a){if(a===9792)return!0;else return a===9794}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0;c=c?l(a):l(a.slice(0,a.length-1|0));if(c!==0){c=b===0;if(c)return a.slice(0,a.length-2|0);else return i(a.slice(0,a.length-3|0))}else return a}function n(a,b){__p&&__p();if(b!==0){var c=h(a),d=c===0;d=d?a.slice(0):a.slice(0,a.length-1|0);var e=l(d);if(e!==0)return a;else{e=d.concat([8205,b]);d=c===0;if(d)return e;else return e.concat([c])}}else return a}function a(a){return n(a,9792)}function c(a){return m(b("SkinToneEmoji.bs").removeTone(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a))))}function e(a){a=b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a)));switch(a){case"1f46a":case"1f48f":case"1f491":return!0;default:return!1}}var o=65039,p=9792,q=9794,r=8205;f.emoji_modifier_code=o;f.gender_female=p;f.gender_male=q;f.zero_join=r;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isGenderModifier=k;f.getGender=l;f.removeGender=m;f.applyGender=n;f.makeFemale=a;f.removeAllModifiers=c;f.hasGender=d;f.isBlacklisted=e}),null);
__d("MessengerStore",["MessengerDispatcher","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=b("MessengerDispatcher").register(this.__onDispatch.bind(this))}var c=a.prototype;c.getDispatchToken=function(){return this.$1};c.emitChange=function(){this.emit("change")};c.destroy=function(){b("MessengerDispatcher").unregister(this.$1)};return a}();b("mixInEventEmitter")(a,{change:!0});e.exports=a}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerAttributionTagsStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case b("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MercurySendMessageFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"})}),null);
__d("MercuryMessageObject",["BanzaiODS","MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercurySendMessageFields","MercurySingletonProvider","MessengerObjectAssociationType","MessengerState.bs","RepliedToMessageStatusForGraphQL","SiteData","gkx","md5"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.constructHotLikeObject=function(a,c,d,e,f){c=g(this.$1,"ma-type:user-generated-message",c,d);d={body:a,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructPhotoMessageObject=function(a,c,d,e,f){c=g(this.$1,"ma-type:user-generated-message",c,d,a);d={has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructTextMessageObject=function(a,c,d,e,f,h,i,j,k,l){h=g(this.$1,"ma-type:user-generated-message",h,i,d);i=f.params&&f.type;d=c.length>0;a={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:i||d,raw_attachments:d?c:void 0,shareable_attachment:i?{share_params:f.params.get("data"),share_type:f.type}:void 0,profile_ranges:e,profile_xmd:e,verse_group_role_xmd:l,mib_direct_message_data:null,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:j||[],signatureID:k,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},h,a)};c.constructUserGeneratedMessageObject=function(a,b,c,d,e,f,h){b=g(this.$1,"ma-type:user-generated-message",b,c,h);c={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:!1,html_body:!1,attachments:[],specific_to_list:d||[],participants_to_hash:[],creator_info:e,tags:f||[]};return babelHelpers["extends"]({},b,c)};c.constructStickerMessageObject=function(a,c,d,e,f,h){c=g(this.$1,"ma-type:user-generated-message",c,d,h);d={has_attachment:!0,html_body:!1,attachments:[],sticker_id:a,specific_to_list:[],participants_to_hash:[],tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructAttachmentMessageObject=function(a,b,c){a=g(this.$1,"ma-type:user-generated-message",a,b,c);b={attachments:[],specific_to_list:[],participants_to_hash:[]};return babelHelpers["extends"]({},a,b)};c.constructLogMessageObject=function(a,b,c,d){a=g(this.$1,"ma-type:log-message",a,b);b={log_message_type:c,log_message_data:d,ephemeral_ttl_mode:d&&d.untypedData&&d.untypedData.ttl};return babelHelpers["extends"]({},a,b)};c.constructCTAConfirmationMessageObject=function(a,b,c,d,e,f){a=this.constructUserGeneratedMessageObject(a,b,c,null,null,e,null);b=d?{quick_replies:d,ignore_for_webhook:!1}:{ignore_for_webhook:!0};f&&(b.postback_data=JSON.stringify(f));return babelHelpers["extends"]({},a,{platform_xmd:JSON.stringify(b)})};c.normalizeNewMessage=function(a){__p&&__p();a.status===void 0&&(a.status=0);a.offline_threading_id=a.offline_threading_id||b("MercuryLocalIDs").generateOfflineThreadingID(a.timestamp);a.offline_threading_id||b("BanzaiODS").bumpEntityKey(2966,"chat.web","invalid_otid_generated");a.message_id=a.message_id||a.offline_threading_id;var c=b("MercuryIDs").getParticipantIDFromUserID(this.$1);a.specific_to_list=a.specific_to_list||[];a.participants_to_hash=a.participants_to_hash||[];a.specific_to_list.length&&a.specific_to_list.indexOf(c)===-1&&a.specific_to_list.push(c);a.participants_to_hash.length&&a.participants_to_hash.indexOf(c)===-1&&a.participants_to_hash.push(c);var d=!1;if(!a.thread_id)a.thread_id="root:"+a.offline_threading_id;else{var e,f=b("MessengerState.bs").getThreadMetaNow(this.$1,a.thread_id);f&&f.ephemeral_ttl_mode!==null&&a.ephemeral_ttl_mode===void 0&&(a.ephemeral_ttl_mode=f.ephemeral_ttl_mode);((e=f)!=null?(e=e.associated_object)!=null?e.name:e:e)&&((e=f)!=null?e.object_association_type:e)===b("MessengerObjectAssociationType").GENERAL_CHAT&&(d=!0)}if(!d)if(a.specific_to_list.length==1)a.thread_id="user:"+this.$1;else if(a.specific_to_list.length==2){f=a.specific_to_list[0]==c?a.specific_to_list[1]:a.specific_to_list[0];a.thread_id=b("MercuryIDs").getThreadIDFromParticipantID(f)}if(!a.specific_to_list.length){e=b("MercuryIDs").tokenize(a.thread_id);d=e.type;f=e.value;d=="user"&&(a.specific_to_list=["fbid:"+f,c])}b("gkx")("939391")&&(a.to_list_md5=this.sortAndHash(a.participants_to_hash));a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]||(a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]=0)};c.sortAndHash=function(a){__p&&__p();if(!a||a.length===0)return null;a=a.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)});return a.some(function(a){return a==null})?null:b("md5")(a.sort(function(a,b){if(a==null||b==null)throw new Error("invalid participant id in to_list_md5 creation");if(a.length<b.length)return-1;return a.length>b.length?1:a.localeCompare(b)}).join(":"))};c.normalizeResendMessage=function(a){a.status=7,a.timestamp=Date.now(),a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};c.normalizeAddAttachmentPlaceholder=function(a,c,d){d.preview_attachments.length>0&&(a.has_attachment=!0,a.preview_attachments=d.preview_attachments),a.client_state=b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER,a.status=7,a.upload_id=c};return a}();function g(a,c,d,e,f){var g=h(d)?["source:chat"]:[],i=Date.now();c={action_type:c,thread_id:e,author:b("MercuryIDs").getParticipantIDFromUserID(a),author_email:null,timestamp:i,is_unread:!1,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_spoof_warning:!1,source:d,source_tags:g,replied_to_message:f?{message:f,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0};return c}function h(a){switch(a){case"source:chat:web":case"source:chat:jabber":case"source:chat:iphone":case"source:chat:meebo":case"source:chat:orca":case"source:chat:test":case"source:chat":return!0;default:return!1}}var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryMessageActions",["AsyncRequest","Bootloader","CurrentUser","MercuryDispatcher","MercuryMessageObject","MercuryServerRequests","MercurySingletonMixin","MessengerState.bs","WorkChatSavedMessagesOnHeaderMenuNux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.$2=b("MercuryMessageObject").getForFBID(this.$1),this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1)}var c=a.prototype;c.send=function(a,b,c){this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),"client_send_message")),this.__serverRequests.sendNewMessage(a,c),b!=null&&b(a.thread_id)};c.resend=function(a,b){a=babelHelpers["extends"]({},a);this.$2.normalizeResendMessage(a);this.send(a,void 0,b)};c.addAttachmentPlaceholder=function(a,b,c){this.$2.normalizeAddAttachmentPlaceholder(a,b,c),this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),"client_send_message"))};c.cancelAttachmentPlaceholder=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:b,action_type:"ma-type:cancel-attachment-placeholder"},"client_send_message"))};c.confirmAttachmentPlaceholder=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:b,action_type:"ma-type:confirm-attachment-placeholder"},"client_send_message"))};c["delete"]=function(a,b,c){this.__dispatcher.handleUpdate(this.$3(a,b,"ma-type:delete-messages",c||"client_delete_messages"))};c.changeSaveStatus=function(a,c,d){__p&&__p();var e=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a.message_id);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:a.thread_id,messageId:e,tags_to_add:c?["message:save"]:[],tags_to_delete:c?[]:["message:save"],action_type:"ma-type:mutate_tags"},d||"client_update_saved_message_status"));b("Bootloader").loadModules(["XMessengerDotComSaveController","SavedStateActions","CollectionsDisplaySurface","CollectionCurationMechanisms","WorkChatSavedMessagesTypedLogger","SavedMessagesEvent","useWorkGalahadEventEmitter"],function(d,f,g,h,i,j,k){new(b("AsyncRequest"))().setURI(d.getURIBuilder().getURI()).setData({action:c?f.SAVE:f.UNSAVE,surface:g.MESSENGER_DOT_COM_MESSAGE,mechanism:h.RIGHT_CLICK,message_id:e}).setHandler(function(){if(c&&b("WorkChatSavedMessagesOnHeaderMenuNux").shouldShowNux){var d=k(["toggleNavHeaderMenu","showSavedMessageNux"]);d[0];d=d[1];d()}new i().setEvent(c?j.SAVE:j.UNSAVE).setThreadID(a.thread_id).setMessageID(e).log()}).send()},"MercuryMessageActions")};c.__constructClientSingleMessagePayload=function(a,b){return{actions:[a],from_client:!0,payload_source:b}};c.$3=function(a,b,c,d){return{actions:[{action_type:c,thread_id:a,message_ids:b}],from_client:!0,payload_source:d}};return a}();c=Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=c}),null);
__d("MessengerThreadThemeUpdateWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1727493033983591"};b.getQueryID=function(){return"643682629309288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("WorkChatBulkUpdatePinnedThreadsMutation",["ClientIDs","CurrentUser","MercuryIDs","RelayFBEnvironment","RelayModern","Timezone","TimezoneNamesData","WorkChatBulkUpdatePinnedThreadsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("RelayModern").commitMutation;b("RelayModern").graphql;b("Timezone").registerNamesModule(b("TimezoneNamesData"));var i=function(){return b("WorkChatBulkUpdatePinnedThreadsMutation.graphql")};function a(a,c,d){a=a.map(function(a){return{thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),update_type:"mark_pinned"}});return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{client_mutation_id:g(),actor_id:b("CurrentUser").getID(),threads_pin_status:a}},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("XChatRemoveParticipantAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/remove_participants/",{elem_id:{type:"String"},uid:{type:"Int"},tid:{type:"String"}})}),null);
__d("XGroupsJoinChatController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/join_chat/",{link_hash:{type:"String"}})}),null);
__d("XMessagingBlockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/block_messages/",{})}),null);
__d("XMessagingGroupJoinThroughHashController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_hash/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinThroughPrivateLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_invite/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinableAcceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_accept/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupJoinableRejectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_reject/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupSetApprovalController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_approval_mode/",{set_mode:{type:"Enum",enumType:0},thread_fbid:{type:"String"}})}),null);
__d("XMessagingJoinableLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_link_action/",{action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveAdminsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_admins/",{thread_fbid:{type:"String"},admin_ids:{type:"FBIDSet"},add:{type:"Bool",defaultValue:!1}})}),null);
__d("XMessagingSaveGroupThreadDescriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_group_thread_description/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveNicknameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_nickname/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadColorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_color/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadEmojiController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_emoji/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSetThreadNameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_name/",{})}),null);
__d("XMessagingUnblockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/unblock_messages/",{})}),null);
__d("XNFXIgnoreMessagesActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/ignore_messages/",{thread_fbid:{type:"Int",required:!0},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XNFXMessengerBlockActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/block_messages/",{thread_fbid:{type:"Int",required:!0},responsible_id:{type:"Int"},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},entry_point:{type:"Enum",required:!0,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("codedError",["fbt","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){h(0,2095)}a.withParams=function(a,b){h(0,2095)};a._=function(a,b,c,d){b=b(g);c=c(g,d);d=b+": "+c;d=new Error(d);Object.assign(d,{framesToPop:1,code:a,description:c,summary:b});return d};e.exports=a}),null);
__d("MercuryThreadActions",["codedError","cssVar","fbt","invariant","AsyncDialog","AsyncRequest","AsyncResponse","Bootloader","CurrentUser","EmojiLikeConstants","IgnoreMessagesTypedLogger","JSResource","MercuryAPIArgsSource","MercuryDispatcher","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryMessengerBlockingUtils","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadlistConstants","MercuryViewer","MessagingTag","MessengerConfig","MessengerEmojiTransitionMapping.bs","MessengerParticipants.bs","MessengerState.re","MessengerThreadThemeUpdateWebGraphQLMutation","NFXContextFactory","PageCommItemStatus","React","ReloadPage","URI","WebGraphQL","WorkChatBulkUpdatePinnedThreadsMutation","XChatRemoveParticipantAsyncController","XGroupsJoinChatController","XMessagingBlockMessagesController","XMessagingGroupJoinableAcceptController","XMessagingGroupJoinableRejectController","XMessagingGroupJoinThroughHashController","XMessagingGroupJoinThroughPrivateLinkController","XMessagingGroupSetApprovalController","XMessagingJoinableLinkController","XMessagingSaveAdminsController","XMessagingSaveGroupThreadDescriptionController","XMessagingSaveNicknameController","XMessagingSaveThreadColorController","XMessagingSaveThreadEmojiController","XMessagingSetThreadNameController","XMessagingUnblockMessagesController","XNFXIgnoreMessagesActionController","XNFXMessengerBlockActionController","ex","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("lazyLoadComponent")(b("JSResource")("MessengerSimpleDialogReact").__setRef("MercuryThreadActions"));a=function(){__p&&__p();function a(a){this.$1=a,this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1),this.__payloadPreprocessor=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.__mercuryThreadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1),this.__messageActions=b("MercuryMessageActions").getForFBID(this.$1),this.__messageObject=b("MercuryMessageObject").getForFBID(this.$1)}a.getForFBID=function(a){return m.getForFBID(a)};a.get=function(){return m.get()};var c=a.prototype;c.markRead=function(a,b){this.batchMarkRead([a],b)};c.batchMarkRead=function(a,b){this.__dispatcher.handleUpdate(this.$2(a,!0,b))};c.markUnread=function(a,b){this.batchMarkUnread([a],b)};c.batchMarkUnread=function(a,b){this.__dispatcher.handleUpdate(this.$2(a,!1,b))};c.markSeen=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:mark_thread_seen","client_mark_thread_seen",{persistent:b}))};c.archive=function(a,b){this.batchArchive([a],b)};c.batchArchive=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadArchivedStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$3(a,!0))};c.unarchive=function(a,b){this.batchUnarchive([a],b)};c.batchUnarchive=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadArchivedStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$3(a,!1))};c.pin=function(a,c,d){__p&&__p();var e=b("MessengerState.re").getPinnedThreadlist(b("CurrentUser").getID()),f=b("CurrentUser").isWorkUser(),h=f?b("MercuryThreadlistConstants").MAX_PINNED_THREADS:b("MessengerConfig").MPT;e=e.length>=h;if(e){e=g._(1545078,function(a){return a._("Kh\u00f4ng th\u1ec3 ghim \u0111o\u1ea1n chat")},function(a,b){return a._("B\u1ea1n c\u00f3 th\u1ec3 ghim t\u1ed1i \u0111a {max_threads} \u0111o\u1ea1n chat. H\u00e3y b\u1ecf ghim \u0111o\u1ea1n chat kh\u00e1c r\u1ed3i th\u1eed ghim l\u1ea1i \u0111o\u1ea1n n\u00e0y.",[a._param("max_threads",b.max_threads)])},{max_threads:h});var j=f?i._("B\u1ea1n kh\u00f4ng th\u1ec3 ghim th\u00eam b\u1ea5t k\u1ef3 cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0o kh\u00e1c"):e.summary,k=f?i._("B\u1ea1n kh\u00f4ng th\u1ec3 ghim qu\u00e1 15 cu\u1ed9c tr\u00f2 chuy\u1ec7n tr\u00ean Workplace. \u0110\u1ec3 ghim cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y, h\u00e3y th\u1eed b\u1ecf ghim m\u1ed9t cu\u1ed9c tr\u00f2 chuy\u1ec7n kh\u00e1c."):e.description;b("Bootloader").loadModules(["MessengerDialogs.bs"],function(a){a.showDialog(function(){var a;return(a=b("React")).jsx(a.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(l,{title:j,body:k})})})},"MercuryThreadActions")}else this.batchPin([a],d),this.$4(a,!0,c)};c.batchPin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$5(a,!0))};c.unpin=function(a,b,c){b===void 0&&(b=null),this.batchUnpin([a],c),this.$4(a,!1,b)};c.batchUnpin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$5(a,!1))};c.bulkPinThreadsUpdate=function(a){b("WorkChatBulkUpdatePinnedThreadsMutation").commit(a),this.__dispatcher.handleUpdate(this.$5(a,!0))};c.markPageFollowUp=function(a,b){this.batchMarkPageFollowUp([a],b)};c.batchMarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$6(a,!0))};c.unmarkPageFollowUp=function(a,b){this.batchUnmarkPageFollowUp([a],b)};c.batchUnmarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$6(a,!1))};c.markSpam=function(a,b){this.batchMarkSpam([a],b)};c.batchMarkSpam=function(a,c){var d=this;a.forEach(function(a){d.__serverRequests.markThreadSpam(a,c)});this.__dispatcher.handleUpdate(this.$7(a,b("MessagingTag").SPAM))};c.unmarkSpam=function(a,b){this.batchUnmarkSpam([a],b)};c.batchUnmarkSpam=function(a,c){var d=this;a.forEach(function(a){d.__serverRequests.unmarkThreadSpam(a,c)});this.__dispatcher.handleUpdate(this.$7(a,b("MessagingTag").INBOX))};c.changeFolder=function(a,b){this.batchChangeFolder([a],b)};c.batchChangeFolder=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadFolder(a,b)});this.__dispatcher.handleUpdate(this.$7(a,b))};c["delete"]=function(a,b){this.batchDelete([a],b)};c.batchDelete=function(a,b){this.__serverRequests.deleteThreads(a,b),this.__dispatcher.handleUpdate(this.__constructClientPayload(a,"ma-type:delete-thread","client_delete_thread"))};c.unmute=function(a){this.updateMuteSetting(a,0)};c.updateMuteSetting=function(a,b){this.__serverRequests.changeMutingOnThread(a,b),this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{mute_until:b}))};c.updateMentionsMuteSetting=function(a,b){b=b?1:0;this.__serverRequests.changeMentionsMutingOnThread(a,b);this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{mentions_mute_mode:b}))};c.updateReactionsMuteSetting=function(a,b){b=b?1:0;this.__serverRequests.changeReactionsMutingOnThread(a,b);this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{reactions_mute_mode:b}))};c.blockMessagesForGroupThread=function(a,c,d,e){var f=b("MercuryIDs").getUserIDFromParticipantID(c);this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a=b("XNFXMessengerBlockActionController").getURIBuilder().setEnum("entry_point",d).setEnum("location","www_chat_head").setInt("thread_fbid",a).setInt("responsible_id",f).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(e),function(a){a.subscribe("confirm",function(){a.hide()})})})};c.blockMessages=function(a,c,d){var e=this,f="",g=b("MercuryIDs").getUserIDFromThreadID(a);g!=null||j(0,400);var h=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(g));f=h&&h.short_name;h=b("XNFXMessengerBlockActionController").getURIBuilder().setInt("thread_fbid",g).setEnum("entry_point",c).setEnum("location","www_chat_head").getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(h),function(c){c.subscribe("confirm",function(){c.hide(),d&&d(f),e.changeFolder(a,b("MessagingTag").OTHER)})})};c.unblockMessages=function(a,c){var d=this;c==null&&(c=b("MercuryIDs").getUserIDFromThreadID(a));if(c===null)throw new Error(b("ex")("Expected user ID to unblock messages for, got null"));c=b("NFXContextFactory").withEntReportable({reportable_ent_token:c,story_location:"messenger",initial_action_name:b("MercuryMessengerBlockingUtils").block_messages});new(b("AsyncRequest"))(new(k||(k=b("URI")))("/ajax/nfx/messenger_undo_block").addQueryData({context:c})).setHandler(function(){return d.changeFolder(a,b("MessagingTag").INBOX)}).send()};c.ignoreMessages=function(a){a=b("XNFXIgnoreMessagesActionController").getURIBuilder().setInt("thread_fbid",a).setEnum("location","www_chat_head").getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))};c.blockOnMessengerDotCom=function(a){var c=b("XMessagingBlockMessagesController").getURIBuilder().getURI();new(b("IgnoreMessagesTypedLogger"))().setEvent("block_confirmed").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform("messengerdotcom").log();new(b("AsyncRequest"))(c).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(a)}).send()};c.blockIgnoreOnMessengerDotCom=function(a,c,d){var e=this;b("Bootloader").loadModules(["MessengerActions"],function(b){a&&b.selectThread(c),e.blockOnMessengerDotCom(c),d&&d()},"MercuryThreadActions")};c.unblockOnMessengerDotCom=function(a){var c=this,d=b("XMessagingUnblockMessagesController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(a)}).setHandler(function(){return c.changeFolder(a,b("MessagingTag").INBOX)}).send()};c.leaveGroup=function(a){this.__messageActions.send(this.__messageObject.constructLogMessageObject("source:titan:web",a,"log:unsubscribe",{removed_participants:[b("MercuryViewer").getID()]}),null,b("MercuryAPIArgsSource").WEBMESSENGER)};c.removeFromGroup=function(a,c){var d=b("XChatRemoveParticipantAsyncController").getURIBuilder().getURI();a={request_user_id:this.$1,tid:a,uid:c};new(b("AsyncRequest"))(d).setMethod("POST").setData(a).send()};c.changeThreadTheme=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){b("WebGraphQL").exec(new(b("MessengerThreadThemeUpdateWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:e.$1,thread_id:a,theme_id:c,source:d}}))})};c.changeThreadColor=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_or_other_fbid:a,color_choice:c!="#0084ff"?c:null};var f=b("XMessagingSaveThreadColorController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeThreadEmoji=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_or_other_fbid:a,emoji_choice:void 0};var f=String.fromCodePoint.apply(String,c);b("MessengerEmojiTransitionMapping.bs").hasGender(c)&&(f=String.fromCodePoint.apply(String,b("MessengerEmojiTransitionMapping.bs").removeAllModifiers(c)));f!==String.fromCodePoint.apply(String,b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI)&&f!==String.fromCodePoint.apply(String,b("EmojiLikeConstants").THUMBS_UP_EMOJI_CODES)&&(a.emoji_choice=f);f=b("XMessagingSaveThreadEmojiController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeThreadNicknames=function(a,c,d,e){var f=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:f.$1,thread_or_other_fbid:a,participant_id:c,nickname:d};var g=b("XMessagingSaveNicknameController").getURIBuilder().setEnum("source",e).getURI();new(b("AsyncRequest"))(g).setMethod("POST").setData(a).send()})};c.changeGroupThreadDescription=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_fbid:a,description:c};var f=b("XMessagingSaveGroupThreadDescriptionController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeGroupThreadName=function(a,c){var d=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:d.$1,thread_id:a,thread_name:c};var e=b("XMessagingSetThreadNameController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).send()})};c.setApprovalMode=function(a,c){var d=b("XMessagingGroupSetApprovalController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({request_user_id:this.$1,set_mode:a,thread_fbid:c.thread_fbid}).send()};c.changeGroupAdmins=function(a,c,d){a={request_user_id:this.$1,thread_fbid:a,admin_ids:c,add:d};c=b("XMessagingSaveAdminsController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.joinThroughHash=function(a,c,d){a={request_user_id:this.$1,link_hash:a};var e=b("XMessagingGroupJoinThroughHashController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).setHandler(function(){return c()}).setErrorHandler(function(a){d()||b("AsyncResponse").defaultErrorHandler(a)}).setTransportErrorHandler(function(){d()}).send()};c.joinThroughPrivateLink=function(a){a={request_user_id:this.$1,link_hash:a};var c=b("XMessagingGroupJoinThroughPrivateLinkController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.chatJoinThroughHash=function(a,c){a={request_user_id:this.$1,link_hash:a};var d=b("XGroupsJoinChatController").getURIBuilder().getURI(),e=function(){return b("ReloadPage").now()};new(b("AsyncRequest"))(d).setMethod("POST").setData(a).setHandler(c&&typeof c==="function"?c:e).send()};c.createJoinableLink=function(a,c){var d=this;if(b("MessengerState.re").isEmptyLocalThread(b("CurrentUser").getID(),a))return;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:d.$1,thread_fbid:a};var e=b("XMessagingJoinableLinkController").getURIBuilder().setEnum("action","create_link").getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).setHandler(function(a){a=a.getPayload();a&&c(a)}).send()})};c.revokeAndRegenerateJoinableLink=function(a,c){var d=this;if(b("MessengerState.re").isEmptyLocalThread(b("CurrentUser").getID(),a))return;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(e){e={request_user_id:d.$1,thread_fbid:e};var f=b("XMessagingJoinableLinkController").getURIBuilder().setEnum("action","revoke_link").getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(e).setHandler(function(b){return d.createJoinableLink(a,c)}).send()})};c.acceptToJoinableGroup=function(a,c){a={request_user_id:this.$1,thread_fbid:a,user_id:c};c=b("XMessagingGroupJoinableAcceptController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.rejectToJoinableGroup=function(a,c){a={request_user_id:this.$1,thread_fbid:a,user_id:c};c=b("XMessagingGroupJoinableRejectController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.addParticipants=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:add-participants","client_add_participants",{participants:b}))};c.movePendingToInbox=function(a){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:move_pending_to_inbox","client_move_pending_to_inbox"))};c.updateCommStatus=function(a,c){this.__dispatcher.handleUpdate(this.$8(a,c));c=c===b("PageCommItemStatus").DONE;this.__dispatcher.handleUpdate(this.$3(a,c))};c.updateCommItemOwner=function(a,b,c,d){this.__dispatcher.handleUpdate(this.$9(a,b,c,d))};c.$2=function(a,b,c){return this.__constructClientPayload(a,"ma-type:change_read_status","client_change_read_status",{mark_as_read:b,source:c,timestamp:0})};c.$9=function(a,b,c,d){return this.__constructClientPayload(a,"ma-type:update-comm-item-owner","client_update_comm_item_owner",{id:c,name:b,profile_pic_uri:d})};c.$3=function(a,b){return this.__constructClientPayload(a,"ma-type:change-archived-status","client_change-archived_status",{archived:b})};c.$5=function(a,b){return this.__constructClientPayload(a,"ma-type:change-pinned-status","client_change-pinned_status",{is_pinned:b,thread_pin_timestamp:Math.floor(Date.now()/1e3)})};c.$6=function(a,b){return this.__constructClientPayload(a,"ma-type:change-page-follow-up-status","client_change_page_follow_up_status",{is_page_follow_up:b})};c.$8=function(a,b){return this.__constructClientPayload(a,"ma-type:update-comm-status","client_update_comm_status",{comm_status:b})};c.$7=function(a,b){return this.__constructClientPayload(a,"ma-type:change-folder","client_change_folder",{new_folder:b})};c.__constructClientPayload=function(a,b,c,d){return{actions:a.map(function(a){return babelHelpers["extends"]({action_type:b,thread_id:a},d)}),from_client:!0,payload_source:c}};c.$4=function(a,c,d){b("Bootloader").loadModules(["ChatPinnedThreadsTypedLogger","ChatPinnedThreadsEvent"],function(e,f){new e().setEvent(c?f.PIN_THREAD:f.UNPIN_THREAD).setIsWorkplace(b("CurrentUser").isWorkUser()).setThreadID(a).setEntryPoint(d).log()},"MercuryThreadActions")};return a}();var m=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MNPlatformAttributionTags",[],(function(a,b,c,d,e,f){e.exports={ATTRIBUTION_TAGS_PREFIX:"bnp:trigger:",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MESSENGERDOTCOM:"messengerdotcom",MESSENGER_WEB:"messenger_web",MESSENGER_WEB_SEARCH:"messenger_web_search",M_DOT_ME:"m_dot_me"}}),null);
__d("MessengerDiscoveryEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BROWSER_PROFILE_ICON:"browser_profile_icon",FB_STORY:"fb_story",FB_STORY_VIEWER_SHEET_ROW:"fb_story:viewer_sheet_row",FB_STORY_VIEWER_SHEET_MENU:"fb_story:viewer_sheet_menu",FB_STORY_THREAD_VIEW_HEADER:"fb_story:thread_view_header",FB_STORY_THREAD_VIEW_FOOTER:"fb_story:thread_view_footer",FB_STORY_STORIES_PUSH_NOTIFICATION:"fb_story:stories_push_notification",FB_STORY_STORIES_JEWEL_NOTIFICATION:"fb_story:stories_jewel_notification",FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:"fb_story:stories_viewer_consumer_reply",FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:"fb_story:stories_viewer_consumer_artifact",FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:"fb_story:stories_page_story_conversations",FB_TOP_OF_FEED_UNIT:"fb_top_of_feed_unit",ANONYMOUS_MESSAGING:"anonymous_messaging",FIRST_PARTY_BOT:"first_party_bot",FIRST_PARTY_BOT_RECRUITING_BOT:"first_party_bot:recruiting_bot",FIRST_PARTY_BOT_MESSENGER_BOT:"first_party_bot:messenger_bot",FIRST_PARTY_BOT_WORKPLACE_APP:"first_party_bot:workplace_app",FIRST_PARTY_BOT_REPORT_SPAM:"first_party_bot:report_spam",FIRST_PARTY_BOT_MOBILE_BUILDS_BOT:"first_party_bot:mobile_builds_bot",FIRST_PARTY_BOT_FB_TEST_PAGE:"first_party_bot:fb_test_page",FIRST_PARTY_BOT_CALENDAR_BOT:"first_party_bot:calendar_bot",FIRST_PARTY_BOT_ORDER_FOOD:"first_party_bot:order_food",FIRST_PARTY_BOT_BUSINESS_ASSISTANT:"first_party_bot:business_assistant",FIRST_PARTY_BOT_MOBILE_FINANCIAL_SERVICE:"first_party_bot:mobile_financial_service",FIRST_PARTY_BOT_FACEBOOK_BUSINESS:"first_party_bot:facebook_business",FIRST_PARTY_BOT_LEAD_GEN:"first_party_bot:lead_gen",FIRST_PARTY_BOT_MARKETPLACE:"first_party_bot:marketplace",FIRST_PARTY_BOT_INSTANT_EXPERIENCES:"first_party_bot:instant_experiences",FIRST_PARTY_BOT_PRODUCT_SUPPORT_TOOL:"first_party_bot:product_support_tool",FIRST_PARTY_BOT_CTA_ADS:"first_party_bot:cta_ads",FIRST_PARTY_BOT_FB_LOGIN_ALERTS:"first_party_bot:fb_login_alerts",FIRST_PARTY_BOT_M:"first_party_bot:m",FIRST_PARTY_BOT_TOGETHER:"first_party_bot:together",FIRST_PARTY_BOT_MPP_SUPPORT:"first_party_bot:mpp_support",MESSENGER_SEARCH:"messenger_search",MESSENGER_SEARCH_HOME:"messenger_search:home",MESSENGER_SEARCH_PEOPLE:"messenger_search:people",MESSENGER_SEARCH_GAMES:"messenger_search:games",MESSENGER_SEARCH_DISCOVER:"messenger_search:discover",MESSENGER_SEARCH_NULL_STATE:"messenger_search:null_state",MESSENGER_SEARCH_M3:"messenger_search:m3",MESSENGER_SEARCH_M4:"messenger_search:m4",FB_NOTIFICATIONS:"fb_notifications",BEGIN_SHARE_FLOW:"begin_share_flow",APP_INSIGHTS:"app_insights",BRANDED_CAMERA:"branded_camera",SAMPLE_BOTS:"sample_bots",PAGES_COMMS_AUTOMATED_RESPONSES:"pages_comms_automated_responses",PAGES_COMMS_AUTOMATED_RESPONSES_PREVIEW:"pages_comms_automated_responses:preview",PAGES_COMMS_AUTOMATED_RESPONSES_RECOMMENDATIONS:"pages_comms_automated_responses:recommendations",PAGES_COMMS_AUTOMATED_RESPONSES_JOB_APPLICATION:"pages_comms_automated_responses:job_application",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_LOCATION:"pages_comms_automated_responses:smart_reply_location",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_CONTACT:"pages_comms_automated_responses:smart_reply_contact",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_HOURS:"pages_comms_automated_responses:smart_reply_hours",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_POSITIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_positive_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_NEGATIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_negative_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_INSTANT_REPLIES:"pages_comms_automated_responses:instant_replies",PAGES_COMMS_AUTOMATED_RESPONSES_AWAY_MESSAGE:"pages_comms_automated_responses:away_message",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_REMINDER:"pages_comms_automated_responses:appointment_reminder",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_FOLLOWUP:"pages_comms_automated_responses:appointment_followup",PAGES_COMMS_AUTOMATED_RESPONSES_ORGANIC_INTAKE_FORM:"pages_comms_automated_responses:organic_intake_form",CUSTOMER_MATCHING:"customer_matching",CUSTOMER_MATCHING_PHONE_NUMBER:"customer_matching:phone_number",VERTICAL_SERVICES:"vertical_services",VERTICAL_SERVICES_GET_QUOTE:"vertical_services:get_quote",MESSENGER_RTC:"messenger_rtc",MESSENGER_RTC_PHOTO_CAPTURE:"messenger_rtc:photo_capture",MESSENGERDOTCOM:"messengerdotcom",MESSENGERDOTCOM_WEB_SEARCH:"messengerdotcom:web_search",MESSENGERDOTCOM_PAGES_PLUGIN:"messengerdotcom:pages_plugin",FB_PROFILE:"fb_profile",FB_PROFILE_MESSAGE_BUTTON:"fb_profile:message_button",DISCOVER_TAB:"discover_tab",DISCOVER_TAB_M4:"discover_tab:m4",DISCOVER_TAB_M3:"discover_tab:m3",MESSAGING_INBOX_IN_BLUE:"messaging_inbox_in_blue",MESSAGING_INBOX_IN_BLUE_THREAD_LIST:"messaging_inbox_in_blue:thread_list",MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:"messaging_inbox_in_blue:people_picker",BYMM_NULL_STATE:"bymm_null_state",FUNDRAISER_SUPPORT:"fundraiser_support",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_PROACTIVE:"fundraiser_support:proactive",FUNDRAISER_SUPPORT_CHECKLIST:"fundraiser_support:checklist",FB_SEARCH:"fb_search",FB_SEARCH_CHAT_SIDEBAR_TYPEAHEAD:"fb_search:chat_sidebar_typeahead",FB_SEARCH_SEARCH_ENTITY_CARD:"fb_search:search_entity_card",FB_SEARCH_HIGH_CONFIDENCE_CARD:"fb_search:high_confidence_card",SPONSORED_MESSAGES_ADS:"sponsored_messages_ads",INSTANT_ARTICLE:"instant_article",INSTANT_ARTICLE_CTA:"instant_article:cta",INSTANT_ARTICLE_OVERFLOW_MENU:"instant_article:overflow_menu",INSTANT_ARTICLE_TOOLKIT_DISCUSS:"instant_article:toolkit_discuss",FB_FEED:"fb_feed",FB_FEED_PYMM_RHC:"fb_feed:pymm_rhc",FB_FEED_PAGE_HOVER_CARD:"fb_feed:page_hover_card",FB_FEED_ADMIN:"fb_feed:admin",FB_FEED_ORGANIC_POST:"fb_feed:organic_post",FB_FEED_BCF:"fb_feed:bcf",FB_FEED_BCF_OPEN_CHAT_BUTTON:"fb_feed:bcf_open_chat_button",PAGES_MANAGER_APP:"pages_manager_app",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_TEXT:"pages_manager_app:notification_direct_reply_text",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_LIKE:"pages_manager_app:notification_direct_reply_like",PAGES_MANAGER_APP_CRM_SCHEDULED_MESSAGES:"pages_manager_app:crm_scheduled_messages",BUSINESS_ON_MESSENGER:"business_on_messenger",CLICK_TO_MESSENGER_AD:"click_to_messenger_ad",CLICK_TO_MESSENGER_AD_MESSENGER_DEEPLINK_ADS:"click_to_messenger_ad:messenger_deeplink_ads",CLICK_TO_MESSENGER_AD_ADS_WELCOME_ADMIN:"click_to_messenger_ad:ads_welcome_admin",CLICK_TO_MESSENGER_AD_USER_SENT:"click_to_messenger_ad:user_sent",CLICK_TO_MESSENGER_AD_PARTIAL_AUTOMATED:"click_to_messenger_ad:partial_automated",CLICK_TO_MESSENGER_AD_FB_P2B_DEEPLINK:"click_to_messenger_ad:fb_p2b_deeplink",MDOTME:"mdotme",FB_OFFER:"fb_offer",FB_OFFER_OFFER_DETAILS_VIEW:"fb_offer:offer_details_view",ADMIN_MESSAGES:"admin_messages",BUSINESS_TAB_M4:"business_tab_m4",BUSINESS_TAB_M4_BUSINESS_INBOX:"business_tab_m4:business_inbox",BUSINESS_TAB_M4_RECOMMENDATION_CARD:"business_tab_m4:recommendation_card",BUSINESS_TAB_M4_RECOMMENDATION_DETAILS:"business_tab_m4:recommendation_details",FB_PAGE:"fb_page",FB_PAGE_ICEBREAKER_RHC:"fb_page:icebreaker_rhc",FB_PAGE_SEND_AND_POST_FROM_COMPOSER:"fb_page:send_and_post_from_composer",FB_PAGE_ADMIN_TEST_LINK:"fb_page:admin_test_link",FB_PAGE_SHOP_PDP:"fb_page:shop_pdp",FB_PAGE_FREQUENTLY_ASKED_QUESTION_CARD:"fb_page:frequently_asked_question_card",FB_PAGE_ABOUT_CARD_DETAIL_VIEW:"fb_page:about_card_detail_view",FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:"fb_page:responsiveness_context_card",FB_PAGE_ABOUT_CARD:"fb_page:about_card",FB_PAGE_ABOUT_CARD_PQI_MESSAGE_UPSELL:"fb_page:about_card_pqi_message_upsell",FB_PAGE_PAGE_HEADER:"fb_page:page_header",FB_PAGE_PRIMARY_MESSAGE_BUTTON:"fb_page:primary_message_button",FB_PAGE_SECONDARY_MESSAGE_BUTTON:"fb_page:secondary_message_button",FB_PAGE_FB_PAGE_CTA_PAGES_ACTIONS_UNIT:"fb_page:fb_page_cta_pages_actions_unit",FB_PAGE_JEWEL_THREAD:"fb_page:jewel_thread",FB_PAGE_USER_MESSAGE_PROMPT:"fb_page:user_message_prompt",FB_PAGE_PAGES_INFO:"fb_page:pages_info",FB_PAGE_LOADED_FROM_DATA:"fb_page:loaded_from_data",FB_PAGE_CHAT_SIDEBAR_TYPEAHEAD:"fb_page:chat_sidebar_typeahead",FB_PAGE_DYNAMICHOVERCARD:"fb_page:dynamicHoverCard",FB_PAGE_ABOUT_ROW:"fb_page:about_row",FB_PAGE_PYMM_RHC:"fb_page:pymm_rhc",FB_PAGE_GROUPS_RHC:"fb_page:groups_rhc",FB_PAGE_CONTEXT_CARD:"fb_page:context_card",FB_PAGE_CONTEXTUAL_RECOMMENDATIONS:"fb_page:contextual_recommendations",FB_PAGE_SEARCHENTITYCARD:"fb_page:searchEntityCard",FB_PAGE_MESSAGE_RECEIVED:"fb_page:message_received",FB_PAGE_PAGE_HOVERCARD:"fb_page:page_hovercard",FB_PAGE_QUESTION_TRIGGERED_CONVO:"fb_page:question_triggered_convo",FB_PAGE_DEFAULT_NATIVE_TEMPLATES_CTA:"fb_page:default_native_templates_cta",FB_PAGE_LAUNCHPAD_MORE_DRAWER:"fb_page:launchpad_more_drawer",FB_PAGE_LAUNCHPAD_HEADER:"fb_page:launchpad_header",FB_PAGE_LAUNCHPAD_FOOTER:"fb_page:launchpad_footer",FB_PAGE_REPLY_TRIGGERED_CONVO:"fb_page:reply_triggered_convo",FB_PAGE_LOCATIONS_CHILD_PAGE_MESSAGE_CTA:"fb_page:locations_child_page_message_cta",MESSENGER_BUSINESS_SOLUTIONS:"messenger_business_solutions",BROADCAST:"broadcast",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MIB_NOTIFICATION:"mib_notification",MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:"mib_notification:direct_push_notif",MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:"mib_notification:direct_jewel_notif",MIB_NOTIFICATION_SUBSEQUENT_PUSH_NOTIF:"mib_notification:subsequent_push_notif",MIB_NOTIFICATION_SUBSEQUENT_JEWEL_NOTIF:"mib_notification:subsequent_jewel_notif",NULL_STATE_CTA:"null_state_cta",INSTANT_GAMES:"instant_games",INSTANT_GAMES_ADMIN_INTRO:"instant_games:admin_intro",PRIVATE_REPLY:"private_reply",PRIVATE_REPLY_ADMIN:"private_reply:admin",PRIVATE_REPLY_RICH_POST_REPLY:"private_reply:rich_post_reply",PRIVATE_REPLY_RICH_COMMENT_REPLY:"private_reply:rich_comment_reply",SEND_TO_MESSENGER_PLUGIN:"send_to_messenger_plugin",MEET_NEW_FRIENDS:"meet_new_friends",FB_GROUPS:"fb_groups",FB_GROUPS_PICKER_EXISTING_CHAT:"fb_groups:picker_existing_chat",FB_GROUPS_PICKER_JOIN_CHAT:"fb_groups:picker_join_chat",FB_GROUPS_PICKER_CREATE_CHAT:"fb_groups:picker_create_chat",FB_GROUPS_MALL_CHATS_TAB:"fb_groups:mall_chats_tab",FB_HEADER_DOCK:"fb_header_dock",FB_HEADER_DOCK_LOADED_FROM_BROWSER_COOKIE:"fb_header_dock:loaded_from_browser_cookie",FB_HEADER_DOCK_JEWEL_THREAD:"fb_header_dock:jewel_thread",FB_HEADER_DOCK_JEWEL_SEE_ALL_MESSAGES:"fb_header_dock:jewel_see_all_messages",PAGES_PLUGIN:"pages_plugin",PAGES_PLUGIN_MESSAGE_TAB:"pages_plugin:message_tab",FB_LOGIN_ALERTS:"fb_login_alerts",WORK_CHAT:"work_chat",WORK_CHAT_WORK_IDS:"work_chat:work_ids",WORK_CHAT_EMAIL:"work_chat:email",CHECKBOX_PLUGIN:"checkbox_plugin",DEPRECATED:"deprecated",DEPRECATED_BUSINESS_ON_MESSENGER:"deprecated:business_on_messenger",DEPRECATED_ADMIN_MESSAGES:"deprecated:admin_messages",DEPRECATED_PIXEL_EVENT:"deprecated:pixel_event",DEPRECATED_NULL_STATE_CTA:"deprecated:null_state_cta",DEPRECATED_SUBSCRIPTIONS:"deprecated:subscriptions",FB_JOB:"fb_job",FB_JOB_JOB_APPLICATION:"fb_job:job_application",FRIENDS_HOME:"friends_home",FRIENDS_HOME_ACTIVE_NOW:"friends_home:active_now",M:"m",LOCAL_DEV_PLATFORM:"local_dev_platform",LOCAL_DEV_PLATFORM_SEND_AVAILABILITY:"local_dev_platform:send_availability",MESSENGER_INBOX:"messenger_inbox",MESSENGER_INBOX_THREAD_LIST:"messenger_inbox:thread_list",MESSENGER_INBOX_IN_THREAD:"messenger_inbox:in_thread",MESSENGER_INBOX_NESTED_FOLDER:"messenger_inbox:nested_folder",FB_EVENT:"fb_event",FB_EVENT_MESSAGE_HOST:"fb_event:message_host",UNKNOWN:"unknown",UNKNOWN_BNP_PSID:"unknown:bnp_psid",UNKNOWN_ORGANIC_POST:"unknown:organic_post",NEARBY_FRIENDS:"nearby_friends",NEARBY_FRIENDS_DASH_LIST:"nearby_friends:dash_list",NEARBY_FRIENDS_DASH_MAP:"nearby_friends:dash_map",NEARBY_FRIENDS_DASH_WAVE:"nearby_friends:dash_wave",NEARBY_FRIENDS_WAVE_INT:"nearby_friends:wave_int",NEARBY_FRIENDS_FEED:"nearby_friends:feed",NEARBY_FRIENDS_SHARE_LIVE_LOC:"nearby_friends:share_live_loc",IG_FEED:"ig_feed",IG_FEED_ORGANIC_POST:"ig_feed:organic_post",DYNAMIC_LOCAL_ADS:"dynamic_local_ads"})}),null);
__d("MessengerDiscoveryEntryPointsLoggingHelper",["MessengerDiscoveryEntryPoint"],(function(a,b,c,d,e,f){"use strict";a={getEntryPointsLoggingTagStr:function(a){if(a.length==0||Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(a[0])==-1)throw new Error("Please use enums in MessengerDiscoveryEntryPoints class");return"entrypoint:"+a.join(":")}};e.exports=a}),null);
__d("MNPlatformTagsDataManager",["MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPointsLoggingHelper","MNPlatformAttributionTags"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={getTags:function(a){__p&&__p();a===void 0&&(a=null);var c=null,d=null;switch(a){case"source:pages:message_shortlink":c=b("MNPlatformAttributionTags").M_DOT_ME;break;case"source:messenger:web":c=b("MNPlatformAttributionTags").MESSENGER_WEB;break;case"source:messenger:web_search":c=b("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:web_search"]);break;case"source:discovery:customer_chat_plugin":c=b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case"source:pages:page_plugin_message":c=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["messengerdotcom:pages_plugin"]);break;default:c="";break}a=[c];d!==null&&a.push(d);return a},updateThreadTabAfterSelectThread:function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);a=this.getTags(a);b("MessengerActions").changeThreadTag(a,c)},hasThreadTags:function(a){var c=b("MessengerAttributionTagsStore").getState();return!!(c.messagingTags&&a&&c.threadID&&c.threadID.toString()===a)},getThreadTags:function(){var a=b("MessengerAttributionTagsStore").getState();return a.messagingTags}}}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:!0},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1},should_ignore:{type:"Bool",defaultValue:!1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryMessageActions").get();a=function(){__p&&__p();function a(){}var c=a.prototype;c.send=function(a,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","postback_send_clicked");a=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a).setString("ref",d).setString("message_id",e).setEnum("ref_source",f).getURI();!c?new(b("AsyncRequest"))().setURI(a).setMethod("POST").send():new(b("AsyncRequest"))().setURI(a).setMethod("POST").setErrorHandler(c).send()};c.sendAndConfirm=function(a,b,c,d,e,f,g,h,i,j){e===void 0;f===void 0&&(f=null);g===void 0&&(g=[]);h===void 0&&(h=null);i===void 0&&(i=null);j===void 0&&(j="source:titan:web");e={cta_id:a,prev_message_id:h,ref:f,force_handle:!0,postback_cta_ref_source:i?i.toString():null};this.sendConfirmationText(b,c,d,g,e,j)};c.sendConfirmationText=function(a,c,d,e,f,h){e===void 0&&(e=[]);if(!c)b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","confirm_message_failed.empty_threadID");else{var i=new(b("MercuryMessageObject"))(b("CurrentUser").getID()),j=b("getPageIDFromThreadID")(c);b("MNPlatformTagsDataManager").hasThreadTags(j)&&e.concat(b("MNPlatformTagsDataManager").getThreadTags());g.send(i.constructCTAConfirmationMessageObject(a,h,c,d,e,f));e&&e.length>0&&b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};return a}();e.exports=new a()}),null);
__d("LiveChatPluginConstants",[],(function(a,b,c,d,e,f){"use strict";a="LiveChatEvent/";b={MQTT:"mqtt",CONNECTED_STATE:"Connected",CONNECTING_STATE:"Connecting",DISCONNECTED_STATE:"Disconnected",CLOSE_TIMESTAMPS:a+"close_timestamps",RESET_BADGING:a+"reset_badging",STATE_UPDATE:a+"state",SWITCH_ACCOUNT:a+"switch_account",TYPING_UPDATE:a+"typing",UNREAD_COUNT_UPDATE:a+"unread_count",UPDATE_MESSAGE_LIST:a+"update_message_list",PROMPT_FALLBACK_HEIGHT:124,PROMPT_REDESIGN_FALLBACK_HEIGHT:187,PROMPT_CONTAINER_PADDING_HEIGHT:24,LOGGED_IN_CHAT_MODE:0,GUEST_CHAT_MODE:1,MESSENGING_PLUGIN:"messaging_plugin",GUEST_SESSION_STORAGE_VALIDITY_MS:8634e4,GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT:"#8A8D91"};e.exports=b}),null);
__d("MessagingPluginLocalStorage",["WebStorage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={get:function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)return a;try{a=window.localStorage}catch(b){a=null}return a}};e.exports=a}),null);
__d("LiveChatPluginLocalStorageUtil",["BanzaiODS","MessagingPluginLocalStorage","WebStorage"],(function(a,b,c,d,e,f){__p&&__p();var g,h="messenger_live_chat";a=function(){"use strict";__p&&__p();function a(){this.domain="",this.pageID="0",this.viewerID="0",this.requestID=""}var c=a.prototype;c.init=function(a,b,c,d){this.domain=a,this.pageID=b,this.viewerID=c,this.requestID=d};c.getChatStarted=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.chatStarted||!1};c.setChatStarted=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{chatStarted:a}))};c.getRefSent=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.refSent||!1};c.setRefSent=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{refSent:a}))};c.getHasGuestSession=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.hasGuestSession||!1};c.setHasGuestSession=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{hasGuestSession:a}))};c.getIsDialogHidden=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.isDialogHidden||!1};c.setIsDialogHidden=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{isDialogHidden:a}))};c.getRequestID=function(){var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.requestID||this.requestID};c.setRequestID=function(a){var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{requestID:a}))};c.getLocalState=function(a,c,d){__p&&__p();try{var e=b("MessagingPluginLocalStorage").get();if(e){a=this.$1(a,c,d);c=e.getItem(a);if(c)return JSON.parse(c)}return null}catch(a){this.$2();return null}};c.setLocalState=function(a,c,d,e){try{var f=b("MessagingPluginLocalStorage").get();if(f){a=this.$1(a,c,d);(g||(g=b("WebStorage"))).setItemGuarded(f,a,JSON.stringify(e))}}catch(a){this.$2()}};c.removeLocalState=function(a,c,d){try{var e=b("MessagingPluginLocalStorage").get();if(e){a=this.$1(a,c,d);e.removeItem(a)}}catch(a){this.$2()}};c.$1=function(a,b,c){return h+"_"+a+"_"+b+"_"+c};c.$2=function(){b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","customer_chat_plugin.state_session_failed")};return a}();e.exports=new a()}),null);
__d("LiveChatPluginLoggerUtil",["BanzaiODS","LiveChatPluginConstants","LiveChatPluginLocalStorageUtil","MessengerDiscoveryEntryPointsLoggingHelper","MessengerLiveChatPluginTypedLogger","MessengerWebPluginAnonymousTypedLogger","MNPlatformAttributionTags","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={};a={logAction:function(a,c,d,e,f,g,i){f===void 0&&(f=null);g===void 0&&(g=null);i===void 0&&(i=null);var j=b("LiveChatPluginLocalStorageUtil").getRequestID();new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(c).setPageID(d).setRequestID(j).setEvent(a).setEventTimestamp(Date.now()).setDebugData(e).setThemeColor(f).setLoggedInGreeting(g).setLoggedOutGreeting(i).setUpstreamEvent(h.name).logVital()},logTTI:function(a,c){this.logTTI=b("emptyFunction");c=(g||(g=b("performanceAbsoluteNow")))()-c;new(b("MessengerLiveChatPluginTypedLogger"))().setPageID(a).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDuration(c).setEvent("plugin_tti").setEventTimestamp(Date.now()).logVital()},logDelta:function(a,c,d,e){var f=b("LiveChatPluginConstants").MQTT;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(a).setPageID(c).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDebugData(JSON.stringify({seqId:e})).setEvent("delta_received").setDeltaType(d).setGateway(f).setEventTimestamp(Date.now()).log();b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","customer_chat_plugin.client."+f+".delta_received."+d)},logChatDisplayDone:function(a,c,d){this.logChatDisplayDone=b("emptyFunction");d=(g||(g=b("performanceAbsoluteNow")))()-d;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(a).setPageID(c).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDuration(d).setEvent("chat_display_done").setEventTimestamp(Date.now()).logVital()},getAttributionTags:function(){return[b("MNPlatformAttributionTags").ATTRIBUTION_TAGS_PREFIX+b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN,b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr(["customer_chat_plugin"])]},logImpressionEvents:function(a,c,d,e,f,g,i){i=Date.now();var j=b("LiveChatPluginLocalStorageUtil").getRequestID();e={themeColor:(e=e)!=null?e:"",loggedInGreeting:(e=f)!=null?e:"",loggedOutGreeting:(f=g)!=null?f:""};new(b("MessengerWebPluginAnonymousTypedLogger"))().setPageID(c).setRequestID(j).setEvent(a).setEventTimestamp(i).setDebugData(d).setPluginExtra(e).setUpstreamEvent(h.name).logVital();a!=="customer_chat_plugin_loaded"&&(h={name:a,timestamp:i})},logImpressionExceptions:function(a,c,d,e,f){var g=b("LiveChatPluginLocalStorageUtil").getRequestID();new(b("MessengerWebPluginAnonymousTypedLogger"))().setPageID(c).setRequestID(g).setEvent(a).setEventTimestamp(Date.now()).setExceptionType(d).setExceptionMessage(e).setExceptionStacktrace(f).logVital()},EVENTMAP:{show:"customer_chat_show_called",hide:"customer_chat_hide_called",showDialog:"customer_chat_show_dialog_called",hideDialog:"customer_chat_hide_dialog_called",update:"customer_chat_update_called"}};e.exports=a}),null);
__d("LiveChatMqttClient",["Arbiter","ChannelConstants","LiveChatPluginConstants","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","MercurySingletonProvider","MessengerLiveChatPluginTypedLogger","MessengerMQTTConnectionEvents","MessengerMQTTGating","MqttChannel","MqttEnvInitializer","Network","SyncProtocolClient"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=225396507985893,h="n",i="wss://edge-chat.facebook.com/chat";a=function(){__p&&__p();function a(a){this.$1=a}a.getForFBID=function(a){return j.getForFBID(a)};a.setUp=function(b,c,d,e){var f=a.getForFBID(c);f.init(b,c,d,e)};var c=a.prototype;c.init=function(a,c,d,e){__p&&__p();var f=this;b("MqttEnvInitializer").initialize();this.$2=a;this.$3=new(b("MqttChannel"))({endpoint:i,pollingEndpoint:"",userFbid:c,appId:g,initialSubscribedTopics:["/t_ms"],capabilities:0,clientCapabilities:1,chatVisibility:!0});a={thread_filter:[{other_user_fbid:a}]};!d?b("SyncProtocolClient").getForFBID(c).init(this.$3,null,a,h).addDeltaStreamListener(this):b("SyncProtocolClient").getForFBID(c).init(this.$3,d,a).addDeltaStreamListener(this);var j=e!==null?this.$1:null;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(j).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent("mqtt_connection_initiated").setEventTimestamp(Date.now()).log();this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){a===b("LiveChatPluginConstants").CONNECTED_STATE&&(e&&e()),(b("Network").isOnline()||a!=="Connecting")&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,a),new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(j).setPageID(f.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent("mqtt_connection_state_changed").setDebugData(a).setEventTimestamp(Date.now()).log()}});b("Network").addListener("offline",function(){f.$3.getConnectionState()===b("LiveChatPluginConstants").CONNECTED_STATE&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,b("LiveChatPluginConstants").DISCONNECTED_STATE)});b("Network").addListener("online",function(){f.$3.getConnectionState()===b("LiveChatPluginConstants").CONNECTED_STATE&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,b("LiveChatPluginConstants").CONNECTED_STATE)});this.$3.subscribe("/orca_typing_notifications",function(a){b("Arbiter").inform(b("LiveChatPluginConstants").TYPING_UPDATE,JSON.parse(a).state)})};c.onDeltaReceived=function(a){__p&&__p();var c=a.type;a=a.payload;try{c=c.replace(/^delta/,"unknown");var d=Number(a.irisSeqId);a={delta:babelHelpers["extends"]({},a,{"class":c}),iseq:d,type:"delta"};var e=b("MessengerMQTTGating").isEnabled()?b("MessengerMQTTConnectionEvents").DELTA_EVENT:b("ChannelConstants").getArbiterType("delta");b("Arbiter").inform(e,{obj:a});b("LiveChatPluginLoggerUtil").logDelta(this.$1,this.$2,c,d)}catch(a){new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(this.$1).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent("delta_parsing_error").setEventTimestamp(Date.now()).logVital()}};c.onStreamDisconnect=function(a){};return a}();var j=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("LiveChatPluginContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext;c={pageID:"",icebreakers:[],isGuestLoginSupported:!1,pageName:"",isBusinessActive:!1,isMuted:!1,unreadCount:0,verifiedStatus:"",disableInput:!1,isLoggedIn:!1,chatStarted:!1,hasMessagingPermission:!1,hasMenu:!1,viewerID:"",originDomain:"",requestID:"",isValidGuestSession:!1,pageResponsivenessText:"",messageStore:null};e.exports=a({dispatchAction:b("emptyFunction"),state:c})}),null);
__d("CreateCustomerChatPluginGuestUserMutation",["RelayFBEnvironment","RelayModern","CreateCustomerChatPluginGuestUserMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;a={commit:function(a,c){h(b("RelayFBEnvironment"),{mutation:g||(g=function(){return b("CreateCustomerChatPluginGuestUserMutation.graphql")}),variables:a,onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}};e.exports=a}),null);
__d("LiveChatPluginPromptButton.react",["ix","cx","Image.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("ShimButton.react"),{className:"_4bqf promptButton",style:{backgroundColor:this.props.color},onClick:this.props.onClick,children:[(this.props.hasIcon==null||this.props.hasIcon==!0)&&b("React").jsx(b("Image.react"),{className:"messengerIcon",src:g("481153")}),this.props.text]})};return c}(b("React").Component);e.exports=a}),null);
__d("MessagingPluginGuestSessionStorageUtil",["LiveChatPluginConstants","MessagingPluginLocalStorage","WebStorage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(){__p&&__p();function a(){this.domain="",this.pageID="0"}var c=a.prototype;c.init=function(a,b){this.domain=a,this.pageID=b};c.getSessionKeyIfNotExpired=function(){var a=Date.now(),b=this.getSessionState();return b&&a<b.expirationTimestamp?b.sessionKey:null};c.getSessionFBID=function(){var a=this.getSessionState();return a?a.fbid:null};c.setSessionInfo=function(a,c){try{this.removeSessionState();var d=b("MessagingPluginLocalStorage").get();if(d){var e=this.$1();(g||(g=b("WebStorage"))).setItemGuarded(d,e,JSON.stringify({sessionKey:a,fbid:c,expirationTimestamp:Date.now()+b("LiveChatPluginConstants").GUEST_SESSION_STORAGE_VALIDITY_MS}))}}catch(a){}};c.getSessionState=function(){__p&&__p();try{var a=b("MessagingPluginLocalStorage").get();if(a){var c=this.$1();a=a.getItem(c);if(a!=null)return JSON.parse(a)}return null}catch(a){return null}};c.removeSessionState=function(){try{var a=b("MessagingPluginLocalStorage").get();if(a){var c=this.$1();a.removeItem(c)}}catch(a){}};c.$1=function(){return b("LiveChatPluginConstants").MESSENGING_PLUGIN+"_"+this.domain+"_"+this.pageID};c.getStorageKeyForGuestSession=function(){return this.$1()};return a}();e.exports=new a()}),null);
__d("XMNPlatformCustomerChatPluginOpenThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/customer_chat_plugin/open_thread/",{page_id:{type:"FBID",required:!0},request_id:{type:"String",required:!0},referer_uri:{type:"String",required:!0},ref:{type:"String"},session_key:{type:"String"}})}),null);
__d("LiveChatPluginContinueAsGuestButton.react",["cssVar","cx","fbt","AsyncRequest","CreateCustomerChatPluginGuestUserMutation","CurrentUser","LiveChatPluginContext","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","MessagingPluginGuestSessionStorageUtil","React","UnverifiedXD","XMNPlatformCustomerChatPluginOpenThreadController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){__p&&__p();var a=d.context,c=a.state,e=a.dispatchAction,f=c.pageID;b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:!1});e({type:"SET_UP_UI_FOR_GUEST_SESSION",isGuest:!0});b("CreateCustomerChatPluginGuestUserMutation").commit({input:{page_id:f}},{onSuccess:function(c){__p&&__p();var f,a=d.context.state;f=(f=c.create_customer_chat_plugin_guest_user)==null?void 0:f.session_key;c=(c=c.create_customer_chat_plugin_guest_user)==null?void 0:c.fbid;if(f!=null&&c!=null){var g;b("MessagingPluginGuestSessionStorageUtil").setSessionInfo(f,c);(g=b("LiveChatPluginLocalStorageUtil")).init(a.originDomain,a.pageID,a.viewerID,a.requestID);g.setChatStarted(!0);g.setHasGuestSession(!0);e({type:"UPDATE_SESSION_KEY",sessionKey:f});e({type:"UPDATE_VIEWER_ID",viewerID:c});b("UnverifiedXD").send({type:"liveChatPluginNewGuestSession",sessionKey:f});c=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",a.pageID).setString("ref",a.refParam).setString("referer_uri",a.originDomain).setString("request_id",g.getRequestID()).setString("session_key",f).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());c.setAllowCrossPageTransition(!0).setMethod("POST").send()}},onFailure:function(a){b("LiveChatPluginLocalStorageUtil").init(d.context.state.originDomain,d.context.state.pageID,d.context.state.viewerID,d.context.state.requestID),b("LiveChatPluginLocalStorageUtil").removeLocalState(d.context.state.originDomain,f,d.context.state.viewerID),b("MessagingPluginGuestSessionStorageUtil").removeSessionState(),e({type:"CLEAR_GUEST_SESSION",isLoggedIn:b("CurrentUser").isLoggedIn(),viewerID:b("CurrentUser").getID()})}});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_continue_as_guest_clicked",f)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.context.state.isGuestLoginSupported,c=i._("Continue as Guest");return a&&b("React").jsx("div",{className:"_8kkd",children:b("React").jsx(b("LiveChatPluginPromptButton.react"),{color:"rgba(0, 0, 0, 0.05)",hasIcon:!1,onClick:this.$1,text:c})})};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginFbts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={DEFAULT_LOGGED_IN_GREETING_TEXT:g._("Xin ch\u00e0o! Ch\u00fang t\u00f4i c\u00f3 th\u1ec3 gi\u00fap g\u00ec cho b\u1ea1n?"),DEFAULT_LOGGED_OUT_GREETING_TEXT:g._("Xin ch\u00e0o! Ch\u00fang t\u00f4i lu\u00f4n s\u1eb5n s\u00e0ng tr\u1ea3 l\u1eddi m\u1ecdi c\u00e2u h\u1ecfi c\u1ee7a b\u1ea1n.")};e.exports=a}),null);
__d("LiveChatPluginCloseButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("svg",{width:"10px",height:"10px",viewBox:"0 0 14 14",children:a.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsx("g",{transform:"translate(-419.000000, -413.000000)",children:a.jsx("g",{transform:"translate(164.000000, 396.000000)",children:a.jsx("g",{children:a.jsx("g",{transform:"translate(250.000000, 12.000000)",children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("rect",{opacity:"0.200000003",x:"0",y:"0",width:"24",height:"24"}),a.jsxs("g",{transform:"translate(4.000000, 4.000000)",fill:"#000000",children:[a.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"}),a.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(135.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"})]})]})})})})})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PrivacyTransparentOverlay.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_4cqr",children:[this.props.children,b("React").jsx("div",{className:"clearfix"})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveChatPluginPromptHeader.react",["cx","Image.react","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","PrivacyTransparentOverlay.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.state,c=a.pageName,d=a.isBusinessActive;a=a.pageResponsivenessText;a=a!=null?"\u30fb"+a:null;return b("React").jsxs("div",{className:"promptHeaderContainer",children:[b("React").jsx("div",{className:"promptHeaderCloseButtonContainer",children:b("React").jsx(b("ShimButton.react"),{className:"_2t-5",onClick:this.props.onCloseButtonClick,children:b("React").jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),b("React").jsx("div",{className:"profilePictureContainer",children:b("React").jsxs(b("PrivacyTransparentOverlay.react"),{children:[b("React").jsx(b("Image.react"),{className:"profilePicture",src:this.props.pageProfilePictureUri}),d?b("React").jsx("div",{className:"_8eiw"}):null]})}),b("React").jsxs("div",{className:"promptHeaderAndBubbleContainer",children:[b("React").jsxs(b("LineClamp.react"),{className:"promptHeaderText",lines:1,children:[b("React").jsx("strong",{children:c}),a]}),this.props.greetingTextElem]})]})};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginUtils",["UserAgent"],(function(a,b,c,d,e,f){a={getIsSafari12OrAbove:function(){return(b("UserAgent").isBrowser("Safari >= 12")||b("UserAgent").isBrowser("Mobile Safari >= 12"))&&typeof document.hasStorageAccess==="function"}};e.exports=a}),null);
__d("XTermsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/terms/",{ref:{type:"String"},from_landing_page:{type:"Bool",defaultValue:!1},locale:{type:"String"},settings_tracking:{type:"String"}})}),null);
__d("LiveChatPluginAnonymousUserPrompt.react",["cx","fbt","FDSLink.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","LiveChatPluginUtils","MessengerTextWithEntities.react","PluginDOMEventListener","PluginOptin","React","ReactDOM","XTermsController","gkx","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.anonPromptRef=b("React").createRef(),d.footerRef=b("React").createRef(),d.headerRef=b("React").createRef(),d.$3=function(){b("LiveChatPluginUtils").getIsSafari12OrAbove()&&location.reload(),d.$4(),b("LiveChatPluginLoggerUtil").logAction("log_in_to_messenger_clicked",d.props.viewerID,d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1();var a=b("ReactDOM").findDOMNode(this.anonPromptRef.current);a!==null&&b("PluginDOMEventListener").add(a,"click",function(a){});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_anonymous_chat_now_prompt_rendered",this.props.pageID)};d.componentDidUpdate=function(a){b("shallowCompare")(this,a)||this.$1()};d.render=function(){var a,c=this.context.state,d=c.pageName;c=c.isGuestLoginSupported;var e=h._("\u0110\u0103ng nh\u1eadp v\u00e0o Messenger"),f=b("gkx")("1189683"),g=b("XTermsController").getURIBuilder().getURI();return(a=b("React")).jsxs("div",{ref:this.anonPromptRef,className:"_j68",children:[a.jsx(b("LiveChatPluginPromptHeader.react"),{ref:this.headerRef,greetingTextElem:this.$2(),onCloseButtonClick:this.props.onCloseButtonClick,pageProfilePictureUri:this.props.pageProfilePictureUri}),a.jsxs("div",{className:"promptFooterContainer",ref:this.footerRef,children:[a.jsx(b("LiveChatPluginPromptButton.react"),{color:this.props.threadColor,onClick:this.$3,text:e}),a.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{}),a.jsx("div",{className:"subButtonText",children:c?f?h._("B\u1eb1ng c\u00e1ch ti\u1ebfp t\u1ee5c trong vai tr\u00f2 l\u00e0 kh\u00e1ch, b\u1ea1n \u0111\u1ed3ng \u00fd v\u1edbi c\u00e1c \u0110i\u1ec1u kho\u1ea3n c\u1ee7a Facebook. H\u00e3y t\u00ecm hi\u1ec3u c\u00e1ch ch\u00fang t\u00f4i thu th\u1eadp, s\u1eed d\u1ee5ng v\u00e0 chia s\u1ebb d\u1eef li\u1ec7u c\u1ee7a b\u1ea1n trong Ch\u00ednh s\u00e1ch d\u1eef li\u1ec7u, c\u0169ng nh\u01b0 c\u00e1ch s\u1eed d\u1ee5ng cookie v\u00e0 c\u00f4ng ngh\u1ec7 t\u01b0\u01a1ng t\u1ef1 trong Ch\u00ednh s\u00e1ch cookie c\u1ee7a ch\u00fang t\u00f4i."):h._("By sending a message, you agree to {=Facebook's Terms}, {=Data Policy} and {=Cookies Policy}.",[h._param("=Facebook's Terms",b("React").jsx(b("FDSLink.react"),{href:g,target:"_blank",children:h._("Facebook's Terms")})),h._param("=Data Policy",b("React").jsx(b("FDSLink.react"),{href:"https://www.facebook.com/about/privacy/update",target:"_blank",children:h._("Data Policy")})),h._param("=Cookies Policy",b("React").jsx(b("FDSLink.react"),{href:"https://www.facebook.com/policies/cookies/",target:"_blank",children:h._("Cookies Policy")}))]):h._("Chat v\u1edbi {page name} trong Messenger",[h._param("page name",d)])})]})]})};d.$2=function(){if(this.props.loggedOutGreeting!=null)return b("React").jsx(b("MessengerTextWithEntities.react"),{className:"promptTextBubble",renderEmoji:!0,renderEmoticons:!0,text:this.props.loggedOutGreeting});else return b("React").jsx("div",{className:"promptTextBubble",children:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT})};d.$4=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.props.pageID,switch_user:!1}).addReturnParams({customer_chat_origin_uri:this.props.refererUri,referer_uri:this.props.refererUri}).start()};d.$1=function(){var a=b("ReactDOM").findDOMNode(this.headerRef.current),c=b("ReactDOM").findDOMNode(this.footerRef.current);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.scrollHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};return c}(b("React").PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginInformationButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:a.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsx("g",{transform:"translate(-413.000000, -56.000000)",children:a.jsx("g",{transform:"translate(90.000000, 44.000000)",children:a.jsx("g",{children:a.jsx("g",{children:a.jsxs("g",{transform:"translate(324.000000, 13.000000)",children:[a.jsx("circle",{fill:this.props.informationViewOpen?this.props.threadColor:"#FFFFFF",stroke:this.props.threadColor,cx:"11",cy:"11",r:"11"}),b("React").jsx("path",{d:"M11,9 L12,9 L12,17 L13,17 L13,17.5 L9,17.5 L9,17 L10,17 L10,9.5 L9,9.5 L9,9 L11,9 Z M11,4.5 C11.8284271,4.5 12.5,5.17157288 12.5,6 C12.5,6.82842712 11.8284271,7.5 11,7.5 C10.1715729,7.5 9.5,6.82842712 9.5,6 C9.5,5.17157288 10.1715729,4.5 11,4.5 Z",fill:this.props.informationViewOpen?"#FFFFFF":this.props.threadColor})]})})})})})})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginDialogHeader.react",["cx","Badge.react","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","LiveChatPluginInformationButtonSVG.react","React","ShimButton.react","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("qex")._("1073863"))!=null?a:!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null,c=this.context.state,d=c.pageName,e=c.verifiedStatus;c=c.pageResponsivenessText;switch(e){case"blue_verified":a=b("React").jsx(b("Badge.react"),{type:"verified",size:"medium"});break;case"gray_verified":a=b("React").jsx(b("Badge.react"),{type:"page_gray_check_solid",size:"medium"});break}return b("React").jsxs("div",{className:"_f_0",children:[b("React").jsx("div",{className:"_1qd1",children:!this.props.autolaunchInternal&&b("React").jsx(b("ShimButton.react"),{className:"_2t-5 _4bqf",onClick:this.props.onCloseButtonClick,children:b("React").jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),b("React").jsxs("div",{className:"_hov",children:[b("React").jsxs(b("LineClamp.react"),{className:"_how",lines:1,children:[d,h?b("React").jsx("span",{className:"_8gqm",children:a}):null]}),b("React").jsx(b("LineClamp.react"),{className:"_hox",lines:1,children:c})]}),b("React").jsx("div",{className:"_1qd3",children:b("React").jsx(b("ShimButton.react"),{className:"_4bqf _17l7",onClick:this.props.onInformationButtonClick,children:b("React").jsx(b("LiveChatPluginInformationButtonSVG.react"),{informationViewOpen:this.props.informationViewOpen,threadColor:this.props.threadColor})})})]})};return c}(b("React").PureComponent);c.contextType=b("LiveChatPluginContext");e.exports=c}),null);
__d("LiveChatPluginDefaultMessengerIconSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("svg",{x:"0",y:"0",width:"60px",height:"60px",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1",children:[a.jsx("stop",{stopColor:"#00B2FF",offset:"0%"}),a.jsx("stop",{stopColor:"#006AFF",offset:"100%"})]})}),a.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsxs("g",{children:[a.jsx("circle",{fill:"#FFFFFF",cx:"30",cy:"30",r:"30"}),a.jsx("svg",{x:"10",y:"10",children:a.jsxs("g",{children:[a.jsx("rect",{id:"container",x:"0",y:"0",width:"40",height:"40"}),a.jsxs("g",{id:"logo",children:[a.jsx("path",{d:"M20,0 C8.7334,0 0,8.2528 0,19.4 C0,25.2307 2.3896,30.2691 6.2811,33.7492 C6.6078,34.0414 6.805,34.4513 6.8184,34.8894 L6.9273,38.4474 C6.9621,39.5819 8.1343,40.3205 9.1727,39.8621 L13.1424,38.1098 C13.4789,37.9612 13.856,37.9335 14.2106,38.0311 C16.0348,38.5327 17.9763,38.8 20,38.8 C31.2666,38.8 40,30.5472 40,19.4 C40,8.2528 31.2666,0 20,0",id:"bubble",fill:"url(#linearGradient-1)"}),a.jsx("path",{d:"M7.99009,25.07344 L13.86509,15.75264 C14.79959,14.26984 16.80079,13.90064 18.20299,14.95224 L22.87569,18.45674 C23.30439,18.77834 23.89429,18.77664 24.32119,18.45264 L30.63189,13.66324 C31.47419,13.02404 32.57369,14.03204 32.00999,14.92654 L26.13499,24.24744 C25.20039,25.73014 23.19919,26.09944 21.79709,25.04774 L17.12429,21.54314 C16.69559,21.22164 16.10569,21.22334 15.67879,21.54734 L9.36809,26.33674 C8.52579,26.97594 7.42629,25.96794 7.99009,25.07344",id:"bolt",fill:"#FFFFFF"})]})]})})]})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginLoggedInMobileInterstitial.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginContext","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","PluginOptin","React","ShimButton.react","XMNLiveChatConnectController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){var a=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",d.props.pageID).getURI();d.$1=new(b("AsyncRequest"))().setURI(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d.props.onChatNowClick);d.$1.send();b("LiveChatPluginLoggerUtil").logAction("mobile_interstitial_continue_as_clicked",d.props.viewerID,d.props.pageID)},d.$4=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:d.props.pageID,switch_user:!0}).addReturnParams({referer_uri:d.props.refererUri}).start(),b("LiveChatPluginLoggerUtil").logAction("not_you_clicked",d.props.viewerID,d.props.pageID)},d.$2=function(){d.props.onCloseButtonClick&&(d.props.onCloseButtonClick(),b("LiveChatPluginLoggerUtil").logAction("mobile_interstitial_close_clicked",d.props.viewerID,d.props.pageID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.componentDidMount=function(){b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_logged_in_mobile_interstitial_rendered",this.props.pageID)};d.render=function(){var a,c=this.context.state.pageName;return(a=b("React")).jsxs("div",{className:"_6k7_",children:[a.jsx("div",{className:"_6k80",children:a.jsx(b("ShimButton.react"),{className:"_4bqf _2t-5",onClick:this.$2,children:a.jsx(b("LiveChatPluginCloseButtonSVG.react"),{})})}),a.jsxs("div",{className:"_6taj",children:[a.jsx("div",{className:"_6i-9",children:c}),this.props.loggedInGreeting?this.props.loggedInGreeting:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT]}),b("React").jsxs("div",{className:"_6k81",children:[b("React").jsx("div",{className:"_6k82",children:b("React").jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{})}),b("React").jsxs("div",{className:"_6k83",children:[h._("\u0110o\u1ea1n chat c\u1ee7a {name}",[h._param("name",c)]),b("React").jsx("br",{}),h._("Do Messenger cung c\u1ea5p")]}),b("React").jsxs(b("ShimButton.react"),{className:"_6k84",onClick:this.$3,children:[b("React").jsx(b("Image.react"),{className:"_6k85",src:i("86959")}),h._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {user name}",[h._param("user name",b("CurrentUser").getName())])]}),b("React").jsx(b("ShimButton.react"),{className:"_6k86",onClick:this.$4,children:h._("Chuy\u1ec3n t\u00e0i kho\u1ea3n")})]})]})};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginLoggedInUserPrompt.react",["cx","fbt","Arbiter","AsyncRequest","CurrentUser","FDSLink.react","Link.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginContinueAsGuestButton.react","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","MessengerTextWithEntities.react","Plugin","PluginOptin","React","ReactDOM","XMNLiveChatConnectController","XTermsController","gkx","setTimeout","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.footerRef=b("React").createRef(),d.headerRef=b("React").createRef(),d.$6=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:d.props.pageID,switch_user:!0}).addReturnParams({referer_uri:d.props.refererUri}).start(),b("LiveChatPluginLoggerUtil").logAction("not_you_clicked",d.props.viewerID,d.props.pageID),b("setTimeout")(function(){location.reload()},500)},d.$5=function(){__p&&__p();if(!b("CurrentUser").isLoggedInNow())return;if(d.props.hasMessagingPermission)d.props.onChatNowClick();else if(d.props.canSkipContinuousAs||d.props.isFacebookApp){var a=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",d.props.pageID).getURI();d.$1=new(b("AsyncRequest"))().setURI(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d.props.onChatNowClick);d.$1.send()}else new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:d.props.pageID,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1}).start(),b("Arbiter").subscribe(b("Plugin").CONNECT,d.props.onChatNowClick);b("LiveChatPluginLoggerUtil").logAction("chat_now_clicked",d.props.viewerID,d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(),b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_logged_in_chat_now_prompt_rendered",this.props.pageID,JSON.stringify({hasMessagingPermission:this.props.hasMessagingPermission}))};d.componentDidUpdate=function(a){b("shallowCompare")(this,a)||this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.render=function(){var a,c=this.context.state.isGuestLoginSupported,d=this.$3(),e=b("gkx")("1189683"),f=b("XTermsController").getURIBuilder().getURI();return(a=b("React")).jsxs("div",{className:"_j68",children:[a.jsx(b("LiveChatPluginPromptHeader.react"),{ref:this.headerRef,greetingTextElem:this.$4(),onCloseButtonClick:this.props.onCloseButtonClick,pageProfilePictureUri:this.props.pageProfilePictureUri}),a.jsx("div",{className:"fillerDiv"}),a.jsxs("div",{className:"promptFooterContainer",ref:this.footerRef,children:[a.jsx(b("LiveChatPluginPromptButton.react"),{color:this.props.threadColor,onClick:this.$5,text:d}),a.jsx(b("LiveChatPluginContinueAsGuestButton.react"),{}),a.jsx(b("Link.react"),{className:"_4bqf notYouLink",onClick:this.$6,children:h._("Kh\u00f4ng ph\u1ea3i b\u1ea1n \u01b0? H\u00e3y \u0111\u0103ng nh\u1eadp v\u00e0o Messenger")}),a.jsx("div",{className:"subButtonText",children:c?e?h._("B\u1eb1ng c\u00e1ch ti\u1ebfp t\u1ee5c trong vai tr\u00f2 l\u00e0 kh\u00e1ch, b\u1ea1n \u0111\u1ed3ng \u00fd v\u1edbi c\u00e1c \u0110i\u1ec1u kho\u1ea3n c\u1ee7a Facebook. H\u00e3y t\u00ecm hi\u1ec3u c\u00e1ch ch\u00fang t\u00f4i thu th\u1eadp, s\u1eed d\u1ee5ng v\u00e0 chia s\u1ebb d\u1eef li\u1ec7u c\u1ee7a b\u1ea1n trong Ch\u00ednh s\u00e1ch d\u1eef li\u1ec7u, c\u0169ng nh\u01b0 c\u00e1ch s\u1eed d\u1ee5ng cookie v\u00e0 c\u00f4ng ngh\u1ec7 t\u01b0\u01a1ng t\u1ef1 trong Ch\u00ednh s\u00e1ch cookie c\u1ee7a ch\u00fang t\u00f4i."):h._("By sending a message, you agree to {=Facebook's Terms}, {=Data Policy} and {=Cookies Policy}.",[h._param("=Facebook's Terms",b("React").jsx(b("FDSLink.react"),{href:f,target:"_blank",children:h._("Facebook's Terms")})),h._param("=Data Policy",b("React").jsx(b("FDSLink.react"),{href:"https://www.facebook.com/about/privacy/update",target:"_blank",children:h._("Data Policy")})),h._param("=Cookies Policy",b("React").jsx(b("FDSLink.react"),{href:"https://www.facebook.com/policies/cookies/",target:"_blank",children:h._("Cookies Policy")}))]):null})]})]})};d.$3=function(){var a=b("CurrentUser").getShortName();return a!==null?h._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {first name}",[h._param("first name",a)]):h._("Ti\u1ebfp t\u1ee5c")};d.$4=function(){if(this.props.loggedInGreeting!=null)return b("React").jsx("div",{className:"promptTextBubble",children:b("React").jsx(b("MessengerTextWithEntities.react"),{className:"truncateOverflow",renderEmoji:!0,renderEmoticons:!0,text:this.props.loggedInGreeting})});else return b("React").jsx("div",{className:"promptTextBubble",children:b("React").jsx("div",{className:"truncateOverflow",children:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT})})};d.$2=function(){var a=b("ReactDOM").findDOMNode(this.headerRef.current),c=b("ReactDOM").findDOMNode(this.footerRef.current);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.scrollHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};return c}(b("React").PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginAttachmentUploadError",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirror")({NO_ERROR:"",UPLOAD_FAILED:"",EXCEEDED_FILE_MAX_SIZE:"",EXCEEDED_MAX_FILES:""}));e.exports=a}),null);
__d("XMNLiveChatPluginFileUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/upload/",{})}),null);
__d("LiveChatPluginAttachmentUploadClient",["FileForm","LiveChatPluginAttachmentUploadError","LiveChatPluginLoggerUtil","MercuryConstants","PhotosUploadID","SubscriptionsHandler","XMNLiveChatPluginFileUploadController","cssURL"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5;a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$14=function(a,b){((a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.result:a:a:a)==="success"?f.$22(b):f.$23(b)};this.$1=new Map();this.$2=new Map();this.$3=new Map();this.$4=new Map();this.$5=d;this.$6=c;this.$7=new(b("SubscriptionsHandler"))();this.$8=a;this.$9=new Set();this.$10=new Map();this.$11=e}var c=a.prototype;c.onSubmitFileList=function(a){__p&&__p();this.$6(b("LiveChatPluginAttachmentUploadError").NO_ERROR);var c=this.$12();c=this.$13(c);this.$7.addSubscriptions(c.subscribe("success",this.$14));if(a){if(a.length+this.$2.size>g){this.$6(b("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES);b("LiveChatPluginLoggerUtil").logAction("attachment_upload_failed",this.$11,this.$5,JSON.stringify({error:"exceeded_max_files"}));return}var d={};for(var e=0;e<a.length;e++){var f=a[e];if(f.size>b("MercuryConstants").AttachmentMaxSize){this.$6(b("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE);b("LiveChatPluginLoggerUtil").logAction("attachment_upload_failed",this.$11,this.$5,JSON.stringify({error:"exceeded_max_file_size"}));return}var h=this.$15();d[h]=f;this.$9.add(h);this.$2.set(h,{name:f.name,thumbnail_url:b("cssURL")(window.URL.createObjectURL(f)),type:f.type});b("LiveChatPluginLoggerUtil").logAction("attachment_upload_submitted",this.$11,this.$5,JSON.stringify({uploadID:h}))}c.setFiles(d);c.forceSendViaXHR()}this.$8(this.$16(),this.$17())};c.removeAttachment=function(a){this.$9["delete"](a),this.$1["delete"](a),this.$2["delete"](a),this.$4["delete"](a),this.$3["delete"](a),this.$10["delete"](a),this.$8(this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21()),b("LiveChatPluginLoggerUtil").logAction("attachment_upload_removed",this.$11,this.$5,JSON.stringify({uploadID:a}))};c.removeAllAttachments=function(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$9=new Set(),this.$10=new Map(),this.$8(this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21())};c.$22=function(a){var c=a.response.payload;a=a.upload.getName();c=c.metadata[0];this.$9.has(a)&&(this.$9["delete"](a),c.image_id?this.$4.set(a,c.image_id):c.gif_id?this.$1.set(a,c.gif_id):c.video_id?this.$10.set(a,c.video_id):this.$3.set(a,c.file_id),this.$8(this.$16(),this.$17()),b("LiveChatPluginLoggerUtil").logAction("attachment_upload_completed",this.$11,this.$5,JSON.stringify({uploadID:a})));this.$24()||this.$8(this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21())};c.$23=function(a){this.removeAttachment(a.upload.getName()),this.$6(b("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED),b("LiveChatPluginLoggerUtil").logAction("attachment_upload_failed",this.$11,this.$5,JSON.stringify({error:"upload_failed"}))};c.$20=function(){return this.$4.size===0?[]:Array.from(this.$4.values())};c.$18=function(){return this.$1.size===0?[]:Array.from(this.$1.values())};c.$21=function(){return this.$10.size===0?[]:Array.from(this.$10.values())};c.$19=function(){return this.$3.size===0?[]:Array.from(this.$3.values())};c.$24=function(){return this.$9.size!==0};c.$16=function(){return this.$2};c.$17=function(){return this.$9};c.$12=function(){var a=document.createElement("form");a.action=b("XMNLiveChatPluginFileUploadController").getURIBuilder().getURI().toString();a.method="post";return a};c.$13=function(a){a=new(b("FileForm"))(a);a.setAllowCrossOrigin(!0);a.setUploadInParallel(!0);return a};c.$15=function(){return"upload_"+b("PhotosUploadID").getNewID()};c.destroy=function(){this.$7.release(),delete this.$7};return a}();e.exports=a}),null);
__d("LiveChatPluginAttachmentInput.react",["cx","InlineBlock.react","LiveChatPluginAttachmentUploadClient","LiveChatPluginLoggerUtil","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("LiveChatPluginLoggerUtil").logAction("attachment_button_clicked",d.props.viewerID,d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("LiveChatPluginAttachmentUploadClient"))(this.props.updateComposerAttachmentsAndIDs,this.props.setComposerAttachmentError,this.props.pageID,this.props.viewerID)};d.componentWillUnmount=function(){this.$1.destroy()};d.render=function(){var a=this;return b("React").jsx(b("InlineBlock.react"),{className:"_64mk _2ez5",onClick:this.$2,children:b("React").jsx("input",{accept:"application/msword, application/pdf, text/csv, text/plain, image/*, video/*",className:"_2ez6",multiple:!0,name:"attachment[]",onChange:function(b){a.$3(b)},ref:"fileInput",title:"Add Files",type:"file"})})};d.$3=function(a){this.$1.onSubmitFileList(a.target.files),a.target.value=""};d.removeAttachment=function(a){this.$1.removeAttachment(a)};d.removeAllAttachments=function(){this.$1.removeAllAttachments()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveChatPluginBotMenuButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:a.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsxs("g",{fill:this.props.threadColor,children:[a.jsx("rect",{x:"2",y:"3",width:"20",height:"1"}),a.jsx("rect",{x:"2",y:"11",width:"20",height:"1"}),a.jsx("rect",{x:"2",y:"19",width:"20",height:"1"})]})})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginArrowButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.direction==="left"?b("React").jsx("g",{fill:this.props.threadColor,children:b("React").jsx("polygon",{points:"5.5 12 16 1.5 18 3.5 9.5 12 18 20.5 16 22.5"})}):b("React").jsx("g",{fill:this.props.threadColor,children:b("React").jsx("polygon",{points:"8 7 9.5 5.5 16 12 9.5 18.5 8 17 13 12"})});return b("React").jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",children:b("React").jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginBotMenuDialog.react",["cx","fbt","Link.react","LiveChatPluginArrowButtonSVG.react","LiveChatPluginContext","LiveChatPluginLoggerUtil","MercuryIDs","MNCommercePostbackCTADataManager","React","ShimButton.react","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={navigationPath:[]};d.$9=function(){d.props.closeDialogFn(),b("LiveChatPluginLoggerUtil").logAction("bot_menu_url_redirect_clicked",d.props.viewerID,d.props.pageID)};d.$1=b("LiveChatPluginLoggerUtil").getAttributionTags();d.$2=b("MercuryIDs").getThreadIDFromUserID(d.props.pageID);return d}var d=c.prototype;d.render=function(){var a=this,c=null,d=[],e=this.props.menuItems;for(var f=0;f<this.state.navigationPath.length;f++){var g=this.state.navigationPath[f];e!=null&&(c=e[g].title,e=e[g].nested_ctas)}d=e&&e.map(function(c,b){return a.$3(c,b)});return b("React").jsxs("div",{className:"_6d42",children:[this.$4(c||h._("Menu")),d]})};d.$4=function(a){var c=this,d=this.state.navigationPath.length!==0?b("React").jsx(b("Link.react"),{className:"_4bqf _6d43",onClick:function(a){c.setState(function(a){return{navigationPath:a.navigationPath.slice(0,-1)}})},children:b("React").jsx(b("LiveChatPluginArrowButtonSVG.react"),{direction:"left",threadColor:this.props.threadColor})}):null;return b("React").jsxs("div",{className:"_6d44 _6d45",children:[d,a]})};d.$3=function(a,c){__p&&__p();var d;switch(a.action_type){case 4:d=this.$5(a);break;case 2:d=this.$6(a);break;case 11:d=this.$7(a,c);break;default:d=this.$8(a);break}return b("React").jsx("div",{className:"_6d46",children:b("React").jsx("div",{className:"_6d45 _4bqf",children:d})},a.id)};d.$8=function(a){return b("React").jsx(b("Tooltip.react"),{className:"_6d47",tooltip:h._("\u0110\u1ec3 s\u1eed d\u1ee5ng t\u00ednh n\u0103ng n\u00e0y, h\u00e3y d\u00f9ng \u1ee9ng d\u1ee5ng Messenger."),children:a.title})};d.$6=function(a){return b("React").jsx(b("Link.react"),{className:"_6d48",href:a.action_link,onClick:this.$9,style:{color:this.props.threadColor},target:"_blank",children:a.title})};d.$7=function(a,c){var d=this,e,f=function(a){d.setState(function(a){return{navigationPath:a.navigationPath.concat(c)}})};return(e=b("React")).jsxs(b("ShimButton.react"),{className:"_6d49",onClick:f,children:[e.jsx(b("Link.react"),{style:{color:this.props.threadColor},children:a.title}),e.jsx("div",{className:"_6d4a",children:e.jsx(b("LiveChatPluginArrowButtonSVG.react"),{direction:"right",threadColor:this.props.threadColor})})]})};d.$5=function(a){__p&&__p();var c=this,d=function(d){__p&&__p();c.props.closeDialogFn();if(!c.context.state.isAnonymousViewer)b("MNCommercePostbackCTADataManager").sendAndConfirm(a.id,a.title||"",c.$2,null,null,null,c.$1,null,"CUSTOMER_CHAT_PLUGIN","source:discovery:customer_chat_plugin");else{d=c.context.state.messageStore;d=d.sendQueue;if(!d)return;d.enqueueAndSend(a.title||"",d.makePlatformTokenForPostbackCTA(a.id))}b("LiveChatPluginLoggerUtil").logAction("bot_menu_postback_clicked",c.props.viewerID,c.props.pageID)};return b("React").jsx(b("Link.react"),{className:"_6d48",onClick:d,style:{color:this.props.threadColor},children:a.title})};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginGuestPersistentMenuQuery",["MNCommerceCallToActionType","RelayFBEnvironment","RelayModern","promiseDone","LiveChatPluginGuestPersistentMenuQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=function(){return b("LiveChatPluginGuestPersistentMenuQuery.graphql")};a=function(a,c,d){b("promiseDone")(g(b("RelayFBEnvironment"),h,{data:{page_id:a,session_key:c}}),function(a){a=a==null?void 0:a.customer_chat_plugin_guest_user_persistent_menu;if(a==null){d(a);return}a=a.menu_items.map(function(a){return a==null?null:{title:a.title,id:a.id,action_link:a.action_link,action_type:b("MNCommerceCallToActionType")[a.action_type]}});d(a)})};e.exports={fetch:a}}),null);
__d("XMessengerBotsMenuController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/commerce/bots/menu/",{page_id:{type:"String",required:!0}})}),null);
__d("LiveChatPluginBotMenuButton.react",["csx","cx","AsyncRequest","LiveChatPluginBotMenuButtonSVG.react","LiveChatPluginBotMenuDialog.react","LiveChatPluginContext","LiveChatPluginGuestPersistentMenuQuery","LiveChatPluginLoggerUtil","MessengerContextualDialog.react","Parent","React","ReactDOM","ShimButton.react","Style","XMessengerBotsMenuController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={flyoutOpen:!1,menuItems:null},d.$4=function(){d.setState(function(a){return{flyoutOpen:!a.flyoutOpen}},d.$8)},d.$7=function(){d.setState({flyoutOpen:!1})},d.$6=function(){d.state.flyoutOpen&&d.$3()},d.$8=function(){b("LiveChatPluginLoggerUtil").logAction(d.state.flyoutOpen?"bot_menu_opened":"bot_menu_closed",d.props.viewerID,d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.menuItems==null&&this.$2()};d.componentDidUpdate=function(){this.state.menuItems==null&&this.context.state.sessionKey&&this.$2()};d.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.state.flyoutOpen&&this.$3()};d.render=function(){return this.context.state.hasMenu&&b("React").jsxs(b("ShimButton.react"),{className:"_661n",onClick:this.$4,ref:"botMenuContainer",children:[b("React").jsx(b("LiveChatPluginBotMenuButtonSVG.react"),{threadColor:this.props.threadColor}),this.$5()]})};d.$5=function(){var a=this;return!this.state.flyoutOpen||!this.state.menuItems?null:b("React").jsx(b("MessengerContextualDialog.react"),{alignment:"right",contextRef:function(){return a.refs.botMenuContainer},hideOnBlur:!0,onBeforeHide:this.$6,position:"above",ref:function(c){if(a.props.isMobile&&c){c=b("Parent").bySelector(b("ReactDOM").findDOMNode(c),"._1r_9");var d=window.innerWidth<310?window.innerWidth-10:300;b("Style").set(c,"max-width",d+"px");b("Style").set(c,"-webkit-tap-highlight-color","transparent")}},shown:this.state.flyoutOpen,width:window.innerWidth<310?window.innerWidth-10:300,children:b("React").jsx(b("LiveChatPluginBotMenuDialog.react"),{closeDialogFn:this.$7,menuItems:this.state.menuItems,pageID:this.props.pageID,threadColor:this.props.threadColor,viewerID:this.props.viewerID})})};d.$2=function(){__p&&__p();var a=this,c=this.context,d=c.state,e=c.dispatchAction;c=d.pageID;var f=d.isAnonymousViewer,g=d.sessionKey;d=d.hasMenu;if(f&&g!=null)b("LiveChatPluginGuestPersistentMenuQuery").fetch(c,g,function(b){b!=null?(a.setState({menuItems:b}),e({type:"TOGGLE_HAS_MENU",hasMenu:!0})):a.setState({menuItems:[]})});else if(d){f=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(f).setHandler(function(b){a.setState({menuItems:b.payload.menu})}).setErrorHandler(function(b){a.setState({menuItems:[]})});this.$1.send()}};d.$3=function(){this.setState({flyoutOpen:!1},this.$8)};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginLikeButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("svg",{height:"24px",preserveAspectRatio:"xMinYMax meet",viewBox:"0 0 40.16 42.24",width:"22px",children:b("React").jsx("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:"none",fillRule:"evenodd",stroke:this.props.threadColor,strokeLinecap:"round",strokeWidth:"2"})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposerAttachmentItem.react",["cx","ix","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment;if(a.type.startsWith("image/"))return[b("React").jsx("div",{className:"_3l_i",style:{backgroundImage:a.thumbnail_url}},this.props.uploadID+"item"),b("React").jsx(b("ShimButton.react"),{className:"_3l_j _3l_k",onClick:this.props.removeAttachment},this.props.uploadID+"removeButton")];var c=b("React").jsx("div",{className:"_3l_l",style:{backgroundColor:this.props.threadColor},children:b("React").jsx(b("Image.react"),{src:a.type.startsWith("video/")?h("359148"):h("359146")})});a=a.name;var d=a.split(".").pop().toUpperCase();return b("React").jsxs("div",{className:"_3l_m",children:[c,b("React").jsxs("div",{className:"_3l_n",children:[b("React").jsx("div",{className:"_3l_o",children:d}),b("React").jsx("div",{className:"_3l_p",children:a})]}),b("React").jsx(b("ShimButton.react"),{className:"_3l_j _3l_q",onClick:this.props.removeAttachment})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposerAttachmentShelf.react",["cx","fbt","LiveChatPluginAttachmentUploadError","LiveChatPluginMessageComposerAttachmentItem.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=new Map();return b}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(this.props.attachments.size===0&&this.props.error===b("LiveChatPluginAttachmentUploadError").NO_ERROR)return null;this.props.attachments.forEach(function(b,c){a.$1.has(c)||a.$1.set(c,b)});this.$1.forEach(function(b,c){a.props.attachments.has(c)||a.$1["delete"](c)});var c=Array.from(this.$1).map(function(c){var d=c[0];c=c[1];return b("React").jsxs("div",{className:"_1i5v",children:[b("React").jsx(b("LiveChatPluginMessageComposerAttachmentItem.react"),{attachment:c,removeAttachment:function(){a.props.removeAttachment(d)},threadColor:a.props.threadColor,uploadID:d}),a.props.uploadingAttachments.has(d)?b("React").jsx(b("XUISpinner.react"),{className:"_1i63",background:"dark",size:"large"}):null]},d)});return b("React").jsxs("div",{className:"_1i69",children:[this.$2(),b("React").jsx("div",{className:"_2l9u",children:c})]})};d.$2=function(){__p&&__p();var a;switch(this.props.error){case b("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES:a=h._("Upload no more than 5 files at once. Please try again.");break;case b("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE:a=h._("This file exceeds the size limit of 25MB.");break;case b("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED:a=h._("This file couldn't be uploaded. Please try again.");break;case b("LiveChatPluginAttachmentUploadError").NO_ERROR:default:return null}return b("React").jsx("div",{className:"_2l9v",children:a})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveChatPluginSendButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:a.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsx("g",{transform:"translate(-5.000000, -5.000000)",fill:this.props.threadColor,children:a.jsx("g",{children:a.jsx("g",{transform:"translate(5.000000, 5.000000)",children:a.jsx("path",{d:"M2.0300068,0.145970044 L20.9662955,9.37015518 C22.3445682,10.0420071 22.3445682,11.9582654 20.9662955,12.6296618 L2.0300068,21.853847 C1.09728834,22.3084288 0,21.6475087 0,20.6317597 L0.806953417,13.8945654 C0.882225434,13.2659853 1.39089595,12.7699536 2.03608467,12.6957083 L12.0229514,11.6795038 C12.8612292,11.5943266 12.8612292,10.4054904 12.0229514,10.3203132 L2.03608467,9.30410872 C1.39089595,9.23031889 0.882225434,8.7342872 0.806953417,8.10525162 L0,1.36805729 C0,0.352308292 1.09728834,-0.3081563 2.0300068,0.145970044"})})})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveChatPluginMessageComposer.react",["cx","fbt","AbstractTextInput.react","Keys","LiveChatPluginAttachmentInput.react","LiveChatPluginAttachmentUploadError","LiveChatPluginBotMenuButton.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginLikeButtonSVG.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposerAttachmentShelf.react","LiveChatPluginSendButtonSVG.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","React","ShimButton.react","StickerConstants"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={attachmentsDataMap:new Map(),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()};d.$20=function(a){d.props.onChange(),d.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})};d.$21=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),d.$18())};d.$18=function(){d.context.state.isGuestLoginSupported&&(d.context.state.sessionKey||d.context.state.isAnonymousViewer)?d.$22():d.$23()};d.$19=function(){var a=d.$7.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,"source:discovery:customer_chat_plugin",d.$8,d.$9);a.is_like_preview=!0;d.$6.send(a);d.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:""});b("LiveChatPluginLoggerUtil").logAction("like_button_clicked",d.props.viewerID,d.props.pageID)};d.$11=function(a){d.$2&&d.$2.removeAttachment(a)};d.$16=function(a){d.setState({error:a})};d.$17=function(a,c,e,f,g,h){e&&(d.$1=e),f&&(d.$3=f),g&&(d.$4=g),h&&(d.$10=h),d.setState({attachmentsDataMap:new Map(a),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,uploadingAttachments:new Set(c)}),d.focus()};d.$6=b("MercuryMessageActions").getForFBID(d.props.viewerID);d.$7=b("MercuryMessageObject").getForFBID(d.props.viewerID);d.$8=b("MercuryIDs").getThreadIDFromUserID(d.props.pageID);d.$9=b("LiveChatPluginLoggerUtil").getAttributionTags();d.$1=[];d.$3=[];d.$4=[];d.$10=[];return d}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_336a"+(this.context.state.disableInput?" _664i":""),children:[b("React").jsx(b("LiveChatPluginMessageComposerAttachmentShelf.react"),{attachments:this.state.attachmentsDataMap,error:this.state.error,removeAttachment:this.$11,threadColor:this.props.threadColor,uploadingAttachments:this.state.uploadingAttachments}),b("React").jsxs("div",{className:"_4zbw",children:[this.$12(),this.$13(),b("React").jsxs("div",{className:"_kmd",children:[this.$14(),this.$15()]})]})]})};d.$14=function(){var a=this;return this.props.isMobile||this.context.state.disableInput||this.context.state.isAnonymousViewer?null:b("React").jsx(b("LiveChatPluginAttachmentInput.react"),{pageID:this.props.pageID,ref:function(b){a.$2=b},setComposerAttachmentError:this.$16,updateComposerAttachmentsAndIDs:this.$17,viewerID:this.props.viewerID})};d.$15=function(){if(this.context.state.disableInput)return null;if(this.context.state.isAnonymousViewer&&!this.context.state.sessionKey)return null;if(this.state.inputValue.length>0||this.state.attachmentsDataMap.size>0||this.context.state.isAnonymousViewer){var a=this.state.inputValue.length===0&&this.state.attachmentsDataMap.size===0;return b("React").jsx(b("ShimButton.react"),{className:(a?"":"_4bqf")+" _64mk _64ml"+(a?" _8pz4":""),onClick:this.$18,children:b("React").jsx(b("LiveChatPluginSendButtonSVG.react"),{threadColor:a?b("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT:this.props.threadColor})})}else return b("React").jsx(b("ShimButton.react"),{className:"_4bqf _64mk _68t0",onClick:this.$19,children:b("React").jsx(b("LiveChatPluginLikeButtonSVG.react"),{threadColor:this.props.threadColor})})};d.$13=function(){var a=this,c=this.context.state,d=c.pageName;c=c.disableInput;if(c)return b("React").jsx("div",{className:"_664k",children:h._("{page name} \u0111\u00e3 t\u1eaft t\u00ednh n\u0103ng nh\u1eadp.",[h._param("page name",d)])});return this.context.state.isAnonymousViewer&&!this.context.state.sessionKey?b("React").jsx("div",{className:"_664k",children:h._("\u0110ang t\u1ea3i...")}):b("React").jsx("div",{className:"_4fwe",children:b("React").jsx(b("AbstractTextInput.react"),{onBlur:this.props.onBlur,onChange:this.$20,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:this.$21,ref:function(b){a.$5=b},placeholder:h._("Nh\u1eadp tin nh\u1eafn...").toString(),value:this.state.inputValue})})};d.$12=function(){return b("React").jsx(b("LiveChatPluginBotMenuButton.react"),{isMobile:this.props.isMobile,threadColor:this.props.threadColor,pageID:this.props.pageID,viewerID:this.props.viewerID})};d.$22=function(){var a=this.context.state;if(!a.messageStore||!a.messageStore.sendQueue)return;a=a.messageStore.sendQueue;var b=this.state.inputValue.trim();b&&b.length>0&&a.enqueueAndSend(b,null);this.setState({inputValue:""})};d.$23=function(){__p&&__p();if(this.state.uploadingAttachments.size!==0)return;var a=this.state.inputValue.trim();if(a&&a.length>0||this.state.attachmentsDataMap.size>0){a=this.$7.constructUserGeneratedMessageObject(a,"source:discovery:customer_chat_plugin",this.$8,null,null,this.$9);this.$4.length>0&&(a.has_attachment=!0,a.image_ids=this.$4);this.$1.length>0&&(a.has_attachment=!0,a.gif_ids=this.$1);this.$10.length>0&&(a.has_attachment=!0,a.video_ids=this.$10);this.$3.length>0&&(a.has_attachment=!0,a.file_ids=this.$3);this.$6.send(a);this.setState({inputValue:""});this.$24();b("LiveChatPluginLoggerUtil").logAction("message_sent",this.props.viewerID,this.props.pageID,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null)}};d.$24=function(){this.$2&&this.$2.removeAllAttachments()};d.focus=function(){this.$5&&this.$5.focusInput()};return c}(b("React").PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginMobilePrompt.react",["ix","cx","Image.react","LiveChatPluginContext","LiveChatPluginFbts","LiveChatPluginLoggerUtil","PluginDOMEventListener","React","ReactDOM","ShimButton.react","asset","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=24,j=24;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.greetingTextRef=b("React").createRef(),d.promptRef=b("React").createRef(),d.$3=function(){d.props.onClick(),b("LiveChatPluginLoggerUtil").logAction("mobile_redesign_prompt_clicked",d.props.viewerID,d.props.pageID)},d.$2=function(){d.props.onCloseButtonClick&&(d.props.onCloseButtonClick(),b("LiveChatPluginLoggerUtil").logAction("mobile_prompt_close_clicked",d.props.viewerID,d.props.pageID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("setTimeout")(function(){a.$1()},750);var c=b("ReactDOM").findDOMNode(this.promptRef.current);c!=null&&b("PluginDOMEventListener").add(c,"click",function(a){});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_mobile_redesign_prompt_rendered",this.props.pageID)};d.componentDidUpdate=function(a){(this.props.isLoggedIn&&a.loggedInGreeting!==this.props.loggedInGreeting||!this.props.isLoggedIn&&a.loggedOutGreeting!==this.props.loggedOutGreeting)&&this.$1()};d.render=function(){var a;return(a=b("React")).jsxs("div",{ref:this.promptRef,className:"_6i-7",children:[a.jsx(b("ShimButton.react"),{className:"_6lg-",onClick:this.$2,children:a.jsx(b("Image.react"),{src:g("491580")})}),a.jsx(b("ShimButton.react"),{onClick:this.$3,children:this.$4()})]})};d.$1=function(){var a=b("ReactDOM").findDOMNode(this.greetingTextRef.current);if(a!=null&&a instanceof HTMLElement){a=a.offsetHeight+i+j;this.props.anchorIframeResizeFn(a,a)}};d.$4=function(){var a=this.context.state.pageName,c;this.props.isLoggedIn?this.props.loggedInGreeting!=null?c=this.props.loggedInGreeting:c=b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT:this.props.loggedOutGreeting!=null?c=this.props.loggedOutGreeting:c=b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT;return b("React").jsxs("div",{className:"_6i-8",ref:this.greetingTextRef,children:[b("React").jsx("div",{className:"_6i-9",children:a}),b("React").jsx("div",{children:c})]})};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("createRelayFBLiveNetwork",["RelayFBResponseCache","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({queryResponseCache:b("RelayFBResponseCache"),liveQueryFetchFn:a}),b("createRelayFBSubscribeFunction")({queryResponseCache:b("RelayFBResponseCache")}))}e.exports=a}),null);
__d("RealtimeGraphQLRequest",["invariant","regeneratorRuntime","BladeRunnerDeferredClient","BladeRunnerStreamHandler","BladeRunnerTypes","LiveQueryEnvironment","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BladeRunnerTypes").StreamFrameType,i=b("BladeRunnerTypes").StreamStatus;a=function(){__p&&__p();function a(a){__p&&__p();var c=a.method,d=a.doc_id,e=a.is_intern,f=a.extra_headers;a=a.body;c={method:c,doc_id:d};d=b("LiveQueryEnvironment").isIntern;e!=null&&(d=e);d&&(c=babelHelpers["extends"]({},c,{www_tier:"intern",www_sandbox:"www.intern.facebook.com"}));b("LiveQueryEnvironment").sandboxDomain!==null&&b("LiveQueryEnvironment").sandboxDomain!==""&&(c=babelHelpers["extends"]({},c,{www_sandbox:b("LiveQueryEnvironment").sandboxDomain}));f!=null&&(c=babelHelpers["extends"]({},c,f));this.$1=c;this.$2=JSON.stringify(a)}var c=a.prototype;c.onResponse=function(a){this.$3=a;return this};c.onError=function(a){this.$4=a;return this};c.onActive=function(a){this.$5=a;return this};c.onPause=function(a){this.$6=a;return this};c.onResume=function(a){this.$7=a;return this};c.send=function(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:this.$3!=null||g(0,13516);a={onResponse:b("nullthrows")(this.$3)};this.$4!=null&&(a=babelHelpers["extends"]({},a,{onError:this.$4}));this.$5!=null&&(a=babelHelpers["extends"]({},a,{onActive:this.$5}));this.$6!=null&&(a=babelHelpers["extends"]({},a,{onPause:this.$6}));this.$7!=null&&(a=babelHelpers["extends"]({},a,{onResume:this.$7}));c=new j(a);e.next=9;return b("regeneratorRuntime").awrap(b("BladeRunnerDeferredClient").requestStream(this.$1,this.$2,new(b("BladeRunnerStreamHandler"))(null,null,null,function(a){return c.onStreamBatch(a)})));case 9:d=e.sent;return e.abrupt("return",{cancel:function(){d.cancel()}});case 11:case"end":return e.stop()}},null,this)};return a}();var j=function(){__p&&__p();function a(a){var b=a.onResponse,c=a.onError,d=a.onActive,e=a.onPause;a=a.onResume;this.$1=b;c!=null&&(this.$2=c);d!=null&&(this.$3=d);e!=null&&(this.$4=e);a!=null&&(this.$5=a);this.$6=!1}var c=a.prototype;c.$8=function(a,b){if(this.$2!=null){b.message!=null?b=b.message:b="unknown error";this.$2(new Error("Query "+a+": "+b))}};c.onStreamBatch=function(a){__p&&__p();for(var a=a.getFrames(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;switch(e.type){case h.DATA:e.data!=null&&this.$1(e.data.decodeData());break;case h.STATUS_UPDATE:if(e.statusUpdate!=null)switch(e.statusUpdate.status){case i.REJECTED:this.$8("rejected",e.statusUpdate);break;case i.STARTED:if(this.$6){this.$7!=null||g(0,13576);var f=Date.now()-b("nullthrows")(this.$7);this.$5!=null&&this.$5(f)}else this.$6=!0,this.$3!=null&&this.$3();break;case i.PAUSED:this.$7=Date.now();this.$4!=null&&this.$4(!1,!1);break;case i.CLOSED:this.$8("failed",e.statusUpdate);break;default:break}break;default:break}}};return a}();e.exports=a}),null);
__d("makeGraphQLLiveQueryRequest",["LiveQueryEnvironment","RealtimeGraphQLRequest"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="FBLQ";function a(a){var c=a.doc_id,d=a.config_id,e=a.variables,f=a.is_intern,h=a.access_token;a=a.method_override;c={method:(a=a)!=null?a:g,doc_id:c,body:{variables:(a=e)!=null?a:{}}};f!=null&&(c=babelHelpers["extends"]({},c,{is_intern:f}));e={config_id:d};h!=null&&(e=babelHelpers["extends"]({},e,{access_token:h}));((a=b("LiveQueryEnvironment").enableRequestStreamLogging)!=null?a:!1)&&(e=babelHelpers["extends"]({},e,{enable_logging:!0}));c=babelHelpers["extends"]({},c,{extra_headers:e});return new(b("RealtimeGraphQLRequest"))(c)}e.exports=a}),null);
__d("liveQueryFetch",["invariant","GraphQLLiveQueryEventsTypedLogger","RelayGraphQLRequestUtils","RelayRuntime","gkx","makeGraphQLLiveQueryRequest","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayRuntime").Observable,i=b("RelayRuntime").RelayError;function a(a,c,d){__p&&__p();if(!k())return h.create(function(a){a.complete();return});var e=0;a.id!=null||g(0,13279);var f={doc_id:b("nullthrows")(a.id),config_id:d.config_id,variables:c};d.access_token!==""&&(f=babelHelpers["extends"]({},f,{access_token:d.access_token}));return h.create(function(a){__p&&__p();var c=b("makeGraphQLLiveQueryRequest")(f).onResponse(function(c){__p&&__p();try{c=b("RelayGraphQLRequestUtils").parsePayload(c),typeof c==="object"||g(0,12937)}catch(b){return a.error(b)}if(!("errors"in c)&&!("data"in c))return a.error(i.createWarning("EmptyResponseError","Parsed network response is empty"));if(c.errors)for(var d=c.errors,h=Array.isArray(d),k=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(h){if(k>=d.length)break;l=d[k++]}else{k=d.next();if(k.done)break;l=k.value}l=l;if(l.severity==="CRITICAL")return a.error(b("RelayGraphQLRequestUtils").createErrorFromPayload(l))}e==0?j("client_update","web","initial response",f.doc_id,f.config_id):j("client_update","web","regular response update",f.doc_id,f.config_id);e+=1;a.closed||a.next(c)}).onError(function(b){a.error(i.create("LiveServerError","Received error for Live Query from Live Server: "+b.message))}).onActive(function(){j("client_subscribe","web","initial subscribe request",f.doc_id,f.config_id)}).onPause(function(a,b){j("client_unsubscribe","web","subscription paused",f.doc_id,f.config_id)}).onResume(function(a){j("client_subscribe","web","subscription resumed",f.doc_id,f.config_id)}).send();return function(){b("promiseDone")(c,function(a){a.cancel(),j("client_unsubscribe","web","regular unsubscribe",f.doc_id,f.config_id)})}})}function j(a,c,d,e,f){b("gkx")("1133447")&&new(b("GraphQLLiveQueryEventsTypedLogger"))().setEvent(a).setEventSource(c).setEventReason(d).setDocID(e).setConfigID(f).log()}function k(){return"WebSocket"in window}e.exports=a}),null);
__d("RelayFBLiveNetwork",["createRelayFBLiveNetwork","liveQueryFetch"],(function(a,b,c,d,e,f){"use strict";e.exports=b("createRelayFBLiveNetwork")(b("liveQueryFetch"))}),null);
__d("RelayFBLiveEnvironment",["requireCond","RelayFBHandlerProvider","RelayFBLiveNetwork","RelayFBMissingFieldHandlers","RelayFBOperationLoader","cr:1121434","relay-runtime","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f){"use strict";a=b("relay-runtime").Environment;c=b("relay-runtime").RecordSource;d=b("relay-runtime").Store;f=new c();c=new d(f,{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader")});d=new a({configName:"RelayFBLiveEnvironment",handlerProvider:b("RelayFBHandlerProvider"),log:b("cr:1121434")!=null?b("cr:1121434")():null,network:b("RelayFBLiveNetwork"),operationLoader:b("RelayFBOperationLoader"),store:c,missingFieldHandlers:b("RelayFBMissingFieldHandlers"),UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID")});e.exports=d}),null);
__d("LivechatPluginGuestMessageThreadQueryContainer.react",["Arbiter","LiveChatPluginConstants","React","RelayFBLiveEnvironment","RelayModern","LivechatPluginGuestMessageThreadQueryContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var h=function(){return b("LivechatPluginGuestMessageThreadQueryContainerQuery.graphql")};function a(a){var c=a.pageID;a=a.sessionKey;return b("React").jsx(g,{environment:b("RelayFBLiveEnvironment"),query:h,variables:{data:{page_id:c,session_key:a}},render:function(a){var c=a.error;a=a.props;if(c)return;b("Arbiter").inform(b("LiveChatPluginConstants").UPDATE_MESSAGE_LIST,a);return b("React").jsx("div",{})}})}e.exports=a}),null);
__d("XMNLiveChatBlockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/block/",{page_id:{type:"String",required:!0}})}),null);
__d("XMNLiveChatUnblockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/unblock/",{page_id:{type:"String",required:!0}})}),null);
__d("LiveChatPluginDialogContainer.react",["cx","AsyncRequest","JSResource","LiveChatPluginAnonymousUserPrompt.react","LiveChatPluginContext","LiveChatPluginDialogHeader.react","LivechatPluginGuestMessageThreadQueryContainer.react","LiveChatPluginLoggedInMobileInterstitial.react","LiveChatPluginLoggedInUserPrompt.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposer.react","LiveChatPluginMobilePrompt.react","MercuryIDs","MercuryThreadActions","MessengerSpinner.react","MessengerState.bs","React","ReactCSSTransitionGroup","ReactDOM","UnverifiedXD","UserAgent","XMNLiveChatBlockMessageController","XMNLiveChatUnblockMessageController","emptyFunction","lazyLoadComponent","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MercuryThreadActions").get(),j=b("MessengerState.bs").jsComponent,k=b("lazyLoadComponent")(b("JSResource")("LiveChatPluginDialogBody.react").__setRef("LiveChatPluginDialogContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={chatPromptHeight:-1,dialogBodyHeight:-1,informationViewOpen:!1,isPageBlocked:!1};d.$8=function(a,b){d.setState({chatPromptHeight:b}),d.props.anchorIframeResizeFn(a)};d.$4=function(){var a=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),c=b("ReactDOM").findDOMNode(d.$3),e=b("ReactDOM").findDOMNode(d.$1);if(a&&a instanceof HTMLElement&&c&&c instanceof HTMLElement&&e&&e instanceof HTMLElement){a=a.getBoundingClientRect().height-c.getBoundingClientRect().height-e.getBoundingClientRect().height;a!==d.state.dialogBodyHeight&&d.setState({dialogBodyHeight:a})}};d.$16=function(){d.props.onMobilePromptClick&&d.props.onMobilePromptClick(d.context.state.isLoggedIn,d.props.canSkipContinuousAs,d.props.pageID,d.props.refererUri,d.props.viewerID)};d.$10=function(){var a=b("XMNLiveChatBlockMessageController").getURIBuilder().setString("page_id",d.props.pageID).getURI();d.setState({isPageBlocked:!0});new(b("AsyncRequest"))().setURI(a).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction("block_message_clicked",d.props.viewerID,d.props.pageID)};d.$12=function(){var a=b("XMNLiveChatUnblockMessageController").getURIBuilder().setString("page_id",d.props.pageID).getURI();d.setState({isPageBlocked:!1});new(b("AsyncRequest"))().setURI(a).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction("unblock_message_clicked",d.props.viewerID,d.props.pageID)};d.$11=function(){d.setState(function(){return{informationViewOpen:!1}})};d.$9=function(){d.setState(function(a){return{informationViewOpen:!a.informationViewOpen}},d.$17)};d.$17=function(){b("LiveChatPluginLoggerUtil").logAction(d.state.informationViewOpen?"information_button_opened":"information_button_closed",d.props.viewerID,d.props.pageID)};d.$2=(h||(h=b("performanceAbsoluteNow")))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.context.state,d=c.isLoggedIn,e=c.chatStarted;c=c.hasMessagingPermission;this.props.isMobile&&e&&c&&window.addEventListener("resize",this.$4);if(e&&c&&d){e=b("ReactDOM").findDOMNode(this);e&&e instanceof HTMLElement&&(e.addEventListener("click",function(){a.$5()}),this.props.isMobile||e.addEventListener("click",function(){a.$6()}))}};d.render=function(){__p&&__p();var a=this,c=this.context.state,d=c.isLoggedIn,e=c.hasMessagingPermission,f=c.chatStarted,g=c.viewerID;if(this.props.isMobile&&!f)return this.$7();!f||!e?(c=!0,f=d?b("React").jsx(b("LiveChatPluginLoggedInUserPrompt.react"),{anchorIframeResizeFn:this.$8,canSkipContinuousAs:this.props.canSkipContinuousAs,hasMessagingPermission:e,isFacebookApp:this.props.isFacebookApp,loggedInGreeting:this.props.loggedInGreeting,onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:this.props.onCloseButtonClick,pageID:this.props.pageID,pageProfilePictureUri:this.props.pageProfilePictureUri,refererUri:this.props.refererUri,threadColor:this.props.threadColor,viewerID:this.props.viewerID,viewerProfilePictureUri:this.props.viewerProfilePictureUri},"logged_in_prompt"):b("React").jsx(b("LiveChatPluginAnonymousUserPrompt.react"),{anchorIframeResizeFn:this.$8,loggedOutGreeting:this.props.loggedOutGreeting,onCloseButtonClick:this.props.onCloseButtonClick,pageID:this.props.pageID,pageProfilePictureUri:this.props.pageProfilePictureUri,refererUri:this.props.refererUri,threadColor:this.props.threadColor,viewerID:this.props.viewerID},"anonymous_prompt")):d?(c=!1,f=b("React").jsxs("div",{className:"_3gog"+(this.props.isMobile?"":" _6ati")+(this.props.isMobile?" _6atj":""),style:this.props.isMobile?null:{borderRadius:"9pt"},children:[b("React").jsx(b("LiveChatPluginDialogHeader.react"),{autolaunchInternal:this.props.autolaunchInternal,informationViewOpen:this.state.informationViewOpen,onCloseButtonClick:this.props.onCloseButtonClick,onInformationButtonClick:this.$9,pageID:this.props.pageID,ref:function(b){return a.$3=b},threadColor:this.props.threadColor,viewerID:g}),b("React").jsx("div",{className:"_424s",children:b("React").jsxs(b("React").Suspense,{fallback:b("React").jsx("div",{className:"spinner",children:b("React").jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})}),children:[b("React").jsx(j,{fbid:g,children:function(c){return b("React").jsx(k,{blockMessage:a.$10,deliveryReceipt:b("MessengerState.bs").deliveryReceipts(c),dialogBodyHeight:a.state.dialogBodyHeight,fromTime:a.$2,isMobile:a.props.isMobile,isPageBlocked:a.state.isPageBlocked,informationViewOpen:a.state.informationViewOpen,messengerState:c,onClick:a.$11,pageID:a.props.pageID,pageProfilePictureUri:a.props.pageProfilePictureUri,readReceipt:a.props.readReceipt,threadColor:a.props.threadColor,unblockMessage:a.$12,viewerID:g,sendRef:a.props.sendRef})}}),this.context.state.sessionKey?b("React").jsx(b("LivechatPluginGuestMessageThreadQueryContainer.react"),{pageID:this.context.state.pageID,sessionKey:this.context.state.sessionKey}):null]})}),b("React").jsx(b("LiveChatPluginMessageComposer.react"),{isMobile:this.props.isMobile,onBlur:this.$13()?this.$14:b("emptyFunction"),onChange:this.$11,onClick:this.$11,onFocus:this.$13()?this.$15:b("emptyFunction"),pageID:this.props.pageID,ref:function(b){return a.$1=b},threadColor:this.props.threadColor,viewerID:this.props.viewerID})]},"dialog_container")):(f=null,c=!1);e=this.state.chatPromptHeight!==-1&&c?{height:this.state.chatPromptHeight}:{};if(!b("UserAgent").isBrowser("IE <= 9")&&!this.props.isMobile)return b("React").jsx("div",{className:(this.state.chatPromptHeight!==-1&&!c?"_6atk":"")+(c?"":" _6atl")+" _6atm",style:e,children:b("React").jsx(b("ReactCSSTransitionGroup"),{transitionName:{enter:"_6atn",enterActive:"_6ato",leave:"_6atp",leaveActive:"_6atq"},transitionEnterTimeout:200,transitionLeaveTimeout:200,children:f})});else return b("React").jsx("div",{className:(!c&&!this.props.isMobile?"_6atl":"")+(!c&&this.props.isMobile?" _6atr":"")+" _6atm",style:e,children:f})};d.$7=function(){return this.props.showInterstitialOnPage&&this.context.state.isLoggedIn?b("React").jsx(b("LiveChatPluginLoggedInMobileInterstitial.react"),{loggedInGreeting:this.props.loggedInGreeting,onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:this.props.onCloseButtonClickWithoutLog,pageID:this.props.pageID,refererUri:this.props.refererUri,viewerID:this.props.viewerID}):b("React").jsx(b("LiveChatPluginMobilePrompt.react"),{anchorIframeResizeFn:this.$8,isLoggedIn:this.context.state.isLoggedIn,loggedInGreeting:this.props.loggedInGreeting,loggedOutGreeting:this.props.loggedOutGreeting,onClick:this.$16,onCloseButtonClick:this.props.onCloseButtonClickWithoutLog,pageID:this.props.pageID,viewerID:this.props.viewerID})};d.$14=function(){b("UnverifiedXD").send({type:"liveChatPluginBlurComposer"})};d.$15=function(){b("UnverifiedXD").send({type:"liveChatPluginFocusComposer"})};d.$13=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)};d.$5=function(){i.markRead(b("MercuryIDs").getThreadIDFromUserID(this.props.pageID))};d.$6=function(){this.$1&&this.$1.focus()};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPlugin.react",["cx","Arbiter","AsyncRequest","CurrentUser","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginDialogContainer.react","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","React","XMNPlatformCustomerChatPluginOpenThreadController","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={loggedInGreeting:d.props.loggedInGreeting,loggedOutGreeting:d.props.loggedOutGreeting,refParam:d.props.refParam,showInterstitialOnPage:d.props.showInterstitialOnPage},d.$5=function(){d.props.onCloseButtonClick();var a=b("LiveChatPluginLocalStorageUtil").getChatStarted();a=a?"chat_dialog_closed":"chat_now_prompt_closed";b("LiveChatPluginLoggerUtil").logAction(a,d.props.viewerID,d.props.pageID)},d.startChat=function(){d.props.onChatNowClick(),!d.context.state.hasMessagingPermission?d.$3(!0):d.$6(),b("setTimeout")(function(){d.context.dispatchAction({type:"TOGGLE_CHAT_STARTED",chatStarted:!0}),d.context.dispatchAction({type:"TOGGLE_HAS_MESSAGING_PERMISSION",hasMessagingPermission:!0}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING)},30)},d.$6=function(){var a=b("LiveChatPluginLocalStorageUtil").getRefSent();if(!a){a=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",d.props.pageID).setString("ref",d.state.refParam).setString("referer_uri",d.props.refererUri).setString("request_id",b("LiveChatPluginLocalStorageUtil").getRequestID()).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());a.setAllowCrossPageTransition(!0).setMethod("POST").send();b("LiveChatPluginLocalStorageUtil").setRefSent(!0)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c=this.context,d=c.dispatchAction;c=c.state;var e=c.chatStarted,f=c.hasMessagingPermission;c=c.isMuted;this.$1=!0;!b("CurrentUser").isLoggedIn()&&!this.context.state.isAnonymousViewer&&(d({type:"TOGGLE_CHAT_STARTED",chatStarted:!1}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1));e&&f?(this.$3(!0),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0)):f&&this.$3(!1);this.$2=b("Arbiter").subscribe("Connect.Unsafe.updateCustomerChat",function(b,c){b={};var d=a.$4(c.logged_in_greeting),e=a.$4(c.logged_out_greeting);d!==null&&(b.loggedInGreeting=d);e!==null&&(b.loggedOutGreeting=e);c.ref&&(b.refParam=c.ref);a.setState(b)});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_plugin_loaded",this.props.pageID,JSON.stringify({greetingDialogDisplay:this.props.greetingDialogDisplay,greetingDialogDelay:this.props.greetingDialogDelay,isMobile:this.props.isMobile,reloaded:this.props.reloaded,isDialogHidden:b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),isMuted:c}),this.props.threadColor,this.state.loggedInGreeting,this.state.loggedOutGreeting)};d.componentWillUnmount=function(){this.$1=!1,this.$2&&b("Arbiter").unsubscribe(this.$2)};d.render=function(){var a=this.context.state,c=a.chatStarted;a=a.viewerID;return b("React").jsx("div",{className:"_30ss"+(!this.props.isMobile||!c?" _3-8j":""),children:b("React").jsx(b("LiveChatPluginDialogContainer.react"),{anchorIframeResizeFn:this.props.anchorIframeResizeFn,autolaunchInternal:this.props.autolaunchInternal,canSkipContinuousAs:this.props.canSkipContinuousAs,isFacebookApp:this.props.isFacebookApp,isMobile:this.props.isMobile,loggedInGreeting:this.state.loggedInGreeting,loggedOutGreeting:this.state.loggedOutGreeting,onChatNowClick:this.startChat,onCloseButtonClick:this.$5,onCloseButtonClickWithoutLog:this.props.onCloseButtonClick,onMobilePromptClick:this.props.onMobilePromptClick,pageID:this.props.pageID,pageProfilePictureUri:this.props.pageProfilePictureUri,readReceipt:this.props.readReceipt,refererUri:this.props.refererUri,showInterstitialOnPage:this.state.showInterstitialOnPage,threadColor:this.props.threadColor?this.props.threadColor:"#0084FF",viewerID:a,viewerProfilePictureUri:this.props.viewerProfilePictureUri,sendRef:this.$6})})};d.$3=function(a){var c=this.context.state,d=c.pageID,e=c.viewerID;c=c.isGuestLoginSupported;c||b("LiveChatMqttClient").setUp(d,e,null,a?this.$6:null)};d.$4=function(a){if(!a)return null;else if(Array.from(a).length>80)return null;else return a};d.updateShowInterstitialOnPage=function(a){this.$1&&this.setState({showInterstitialOnPage:a})};return c}(b("React").PureComponent);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginBadgeSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={fontSize:"8px",text:this.props.unreadCount,cx:"12",cy:"8",rx:"8",ry:"8"};if(this.props.unreadCount===0)return null;else this.props.unreadCount>20?(a.text="20+",a.cx="11",a.rx="9"):this.props.unreadCount<10&&(a.fontSize="9px");return b("React").jsxs("svg",{x:"40",y:"0",width:"20",height:"20",children:[b("React").jsx("ellipse",{cx:a.cx,cy:a.cy,rx:a.rx,ry:a.ry,fill:"#e8423e"}),b("React").jsx("text",{x:"12",y:"8",textAnchor:"middle",fill:"#ffffff",fontSize:a.fontSize,fontFamily:"Arial",dy:".4em",children:a.text})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginMessengerIconSVGWithColor.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("svg",{x:"0",y:"0",width:"60px",height:"60px",children:a.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsxs("g",{children:[a.jsx("circle",{fill:this.props.threadColor,cx:"30",cy:"30",r:"30"}),a.jsx("svg",{x:"10",y:"10",children:a.jsx("g",{transform:"translate(0.000000, -10.000000)",fill:"#FFFFFF",children:a.jsx("g",{id:"logo",transform:"translate(0.000000, 10.000000)",children:a.jsx("path",{d:"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z"})})})})]})})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginBadgableMessengerIcon.react",["Arbiter","LiveChatPluginBadgeSVG.react","LiveChatPluginConstants","LiveChatPluginContext","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginLocalStorageUtil","LiveChatPluginMessengerIconSVGWithColor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={unreadCount:c.context.state.unreadCount},c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("Arbiter").subscribe(b("LiveChatPluginConstants").UNREAD_COUNT_UPDATE,function(b,c){a.setState({unreadCount:c})})};d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this.props.threadColor!=null?b("React").jsx(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):b("React").jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{}),c=null;(!b("LiveChatPluginLocalStorageUtil").getChatStarted()||b("LiveChatPluginLocalStorageUtil").getIsDialogHidden())&&(c=b("React").jsx(b("LiveChatPluginBadgeSVG.react"),{unreadCount:this.state.unreadCount}));return b("React").jsxs("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",children:[a,c]})};return c}(b("React").Component);a.contextType=b("LiveChatPluginContext");e.exports=a}),null);
__d("LiveChatPluginErrorBoundary.react",["ErrorBoundary.react","ErrorUtils","LiveChatPluginLoggerUtil","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.onHandleError=function(a,c){var d=(g||(g=b("ErrorUtils"))).normalizeError(a);b("LiveChatPluginLoggerUtil").logImpressionExceptions("customer_chat_plugin_load_failed",this.props.pageID,d.name,d.message,d.stack);this.props.onHandleError&&this.props.onHandleError(a,c)};d.render=function(){return b("React").jsx(b("ErrorBoundary.react"),{onHandleError:this.onHandleError.bind(this),children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveChatPluginReducer",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();switch(b.type){case"TOGGLE_IS_LOGGED_IN":return babelHelpers["extends"]({},a,{isLoggedIn:b.isLoggedIn});case"TOGGLE_CHAT_STARTED":return babelHelpers["extends"]({},a,{chatStarted:b.chatStarted});case"TOGGLE_HAS_MESSAGING_PERMISSION":return babelHelpers["extends"]({},a,{hasMessagingPermission:b.hasMessagingPermission});case"TOGGLE_HAS_MENU":return babelHelpers["extends"]({},a,{hasMenu:b.hasMenu});case"TOGGLE_IS_ANONYMOUS_VIEWER":return babelHelpers["extends"]({},a,{isAnonymousViewer:b.isAnonymousViewer});case"UPDATE_VIEWER_ID":return babelHelpers["extends"]({},a,{viewerID:b.viewerID});case"UPDATE_SESSION_KEY":return babelHelpers["extends"]({},a,{sessionKey:b.sessionKey});case"SET_UP_UI_FOR_GUEST_SESSION":return babelHelpers["extends"]({},a,{isLoggedIn:b.isGuest,chatStarted:b.isGuest,hasMessagingPermission:b.isGuest,isAnonymousViewer:b.isGuest});case"SET_UP_MESSAGE_STORE":return babelHelpers["extends"]({},a,{messageStore:b.messageStore});case"CLEAR_GUEST_SESSION":return babelHelpers["extends"]({},a,{viewerID:b.viewerID,isLoggedIn:b.isLoggedIn,sessionKey:"",chatStarted:!1,hasMessagingPermission:!1,isAnonymousViewer:!1});default:return a}}e.exports=a}),null);
__d("LiveChatPluginStateProvider",["LiveChatPluginContext","LiveChatPluginReducer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useReducer;a=function(a){var c=a.initialState;a=a.children;c=g(b("LiveChatPluginReducer"),c);var d=c[0];c=c[1];return b("React").jsx(b("LiveChatPluginContext").Provider,{value:{dispatchAction:c,state:d},children:a})};e.exports=a}),null);
__d("XMNMessagingPluginGuestSessionValidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/guest/",{page_id:{type:"String",required:!0},session_key:{type:"String",required:!0}})}),null);
__d("LiveChatPluginMount",["Arbiter","AsyncRequest","Bootloader","CurrentUser","LiveChatPlugin.react","LiveChatPluginBadgableMessengerIcon.react","LiveChatPluginConstants","LiveChatPluginErrorBoundary.react","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginStateProvider","LiveChatPluginUtils","MessagingPluginGuestSessionStorageUtil","Plugin","PluginDOMEventListener","PluginOptin","React","ReactDOM","ShimButton.react","Style","UnverifiedXD","XMNMessagingPluginGuestSessionValidationController","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(){__p&&__p();function a(a){__p&&__p();var c=this,d=a.autoLaunchOnMWeb,e=a.container,f=a.canSkipContinuousAs,h=a.disableInput,i=a.greetingDialogDisplay,j=a.greetingDialogDelay,k=a.greetingDialogFadeDelay,l=a.hasMenu,m=a.hasMessagingPermission,n=a.initSeqID,o=a.isBusinessActive,p=a.isFacebookApp,q=a.isMuted,r=a.loggedInGreeting,s=a.loggedOutGreeting,t=a.originDomain,u=a.pageID,v=a.pageName,w=a.pageProfilePictureUri,x=a.pageResponsivenessText,y=a.readReceipt,z=a.refererUri,A=a.refParam,B=a.reloaded,C=a.requestID,D=a.soundURLs,E=a.threadCSSColor,F=a.unreadCount,G=a.verifiedStatus,H=a.viewerProfilePictureUri,I=a.icebreakers,J=a.isGuestLoginSupported;a=a.isValidGuestSession;this.$2=!1;this.$3=!1;this.$4=!1;this.$8="show";this.$9=0;this.$10=!1;this.$13="";this.$15=!1;this.$16=!1;this.$28=function(a,e,f,d){c.$32();var g=c.$11?c.$11:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString(),h=c.$12?c.$12:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT.toString();a?e?c.$33():c.$34(d,f,g,h):c.$35(f,h);c.$4&&!a&&location.reload()};this.$27=function(){c.$32(),c.$30()};this.$26=function(){c.$32(),b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:c.$3})};try{var K=(g||(g=b("performanceAbsoluteNow")))();this.$3=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);this.$11=r;this.$12=s;this.$4=b("LiveChatPluginUtils").getIsSafari12OrAbove();this.$13=u;this.$14=E;this.$8=i;this.$9=k;this.$15=q;this.$16=B;n||(n=0);var L=b("CurrentUser").isLoggedIn(),M=b("CurrentUser").getID();M=this.$18(m,t,u,B,C,M,i,j,f,L,d);var N=b("LiveChatPluginLocalStorageUtil").getLocalState(t,u,M)===null;L&&this.$17==null&&b("Bootloader").loadModules(["LiveChatPluginAlerts","MercurySyncDeltaHandler"],function(a,c){a.init(M,u,v,D,q,F),c.get(),b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:M,seqID:n})},"LiveChatPluginMount");b("UnverifiedXD").send({type:"liveChatPluginPrepareAnchorIframe",chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),dialogHidden:this.$2,isMobile:this.$3,showInterstitialOnPage:this.$10});var O=b("React").jsx(b("ShimButton.react"),{onClick:function(){c.$19(L,f,z,M)},style:{cursor:"pointer",outline:"none"},children:b("React").jsx(b("LiveChatPluginBadgableMessengerIcon.react"),{threadColor:E})});window.addEventListener("message",function(a){__p&&__p();if(a.data.name==="bubbleFrameLoaded"){var d=parent.frames[a.data.frameName];c.$1=d;c.$20(d,L);b("ReactDOM").render(O,d.document.body);b("Style").set(d.document.body,"margin","0");c.$21(F,m);c.$22(j,i,k,N)}else if(a.data.name==="CustomerChat.isDialogHidden")a.data.params.is_dialog_hidden!=null&&(c.$2=a.data.params.is_dialog_hidden,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(c.$2),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING));else if(a.data.name==="CustomerChat.SDK.Called"){d=b("LiveChatPluginLoggerUtil").EVENTMAP[a.data.event];d&&c.$23(d)}},!1);window.addEventListener("storage",function(a){var c=b("MessagingPluginGuestSessionStorageUtil").getStorageKeyForGuestSession();if(a.key!==c)return;c=JSON.parse(a.newValue||"{}");c.sessionKey||location.reload()});var P=null;y&&y.get("watermark")&&y.get("action")&&(P={watermark:Number(y.get("watermark")),action:Number(y.get("action"))});y={pageID:u,icebreakers:I,isGuestLoginSupported:J,pageName:v,isBusinessActive:o,isMuted:q,unreadCount:F,verifiedStatus:G,disableInput:h,isLoggedIn:b("CurrentUser").isLoggedIn(),hasMessagingPermission:m,chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),hasMenu:l,viewerID:M,originDomain:t,requestID:C,isValidGuestSession:a,pageResponsivenessText:x,refParam:A};if(this.$17){y=babelHelpers["extends"]({},y,{sessionKey:this.$17,isValidGuestSession:!0,hasMessagingPermission:!0,chatStarted:!0,isAnonymousViewer:!0,isLoggedIn:!0});b("LiveChatPluginLocalStorageUtil").setHasGuestSession(!0);I=b("XMNMessagingPluginGuestSessionValidationController").getURIBuilder().setString("page_id",u).setString("session_key",this.$17).getURI();new(b("AsyncRequest"))().setURI(I).setHandler(function(a){(!a.payload||!a.payload.valid)&&c.$24(t,u,M)}).setErrorHandler(function(a){c.$24(t,u,M)}).send()}b("ReactDOM").render(b("React").jsx(b("LiveChatPluginErrorBoundary.react"),{pageID:u,children:b("React").jsx(b("LiveChatPluginStateProvider"),{initialState:y,children:b("React").jsx(b("LiveChatPlugin.react"),{anchorIframeResizeFn:this.$25,autolaunchInternal:d,canSkipContinuousAs:f,greetingDialogDelay:j,greetingDialogDisplay:i,isFacebookApp:p,isMobile:this.$3,loggedInGreeting:r,loggedOutGreeting:s,onChatNowClick:this.$26,onCloseButtonClick:this.$27,onMobilePromptClick:this.$28,pageID:u,pageProfilePictureUri:w,readReceipt:P,ref:function(a){return c.$7=a},refererUri:z,refParam:A,reloaded:B,showInterstitialOnPage:this.$10,threadColor:E,viewerID:M,viewerProfilePictureUri:H})})}),e);this.$21(F,m);b("LiveChatPluginLoggerUtil").logTTI(u,K)}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptions("customer_chat_plugin_load_failed",u,a.name,a.message,a.stack)}}var c=a.prototype;c.$22=function(a,b,c,d){__p&&__p();var e=this;if(!d)return;d=!1;switch(b){case"fade":d=!this.$3&&a>0;break;case"show":d=a>0;break;case"unset":d=this.$3?!1:a>0;break;case"hide":break;default:break}if(!d)return;this.$6=window.setTimeout(function(){e.$29(c)},a)};c.$23=function(a){b("LiveChatPluginLoggerUtil").logImpressionEvents(a,this.$13,JSON.stringify({greetingDialogDisplay:this.$8,greetingDialogDelay:this.$9,isMobile:this.$3,reloaded:this.$16,isDialogHidden:b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),isMuted:this.$15}),this.$14,this.$11,this.$12)};c.$29=function(a){var b=this;this.$2&&(this.$30(),a&&(this.$5=window.setTimeout(function(){b.$2||b.$30()},a)))};c.$25=function(a){b("UnverifiedXD").send({type:"liveChatPluginResizeAnchorIframe",height:a})};c.$21=function(a,c){if(this.$1){b("UnverifiedXD").send({type:"liveChatPluginShowBubbleIframe",dialogHidden:this.$2,showBadge:a>0&&(b("LiveChatPluginLocalStorageUtil").getChatStarted()?this.$2:c)});return}b("UnverifiedXD").send({type:"liveChatPluginGetBubbleIframe",fromIframe:window.name})};c.$31=function(a){this.$32();this.$30();var c=b("LiveChatPluginLocalStorageUtil").getChatStarted();c?c=this.$2?"chat_dialog_closed":"chat_dialog_opened":c=this.$2?"chat_now_prompt_closed":"chat_now_prompt_opened";b("LiveChatPluginLoggerUtil").logAction(c,a,this.$13)};c.$33=function(){var a=this;b("UnverifiedXD").send({type:"liveChatPluginShowInterstitialOnPage",dialogHidden:this.$2});window.setTimeout(function(){a.$7&&a.$7.updateShowInterstitialOnPage(!0)},150);this.$2=!1;b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2)};c.$34=function(a,c,d,e){var f=this;this.$2||(this.$30(),this.$2=!0,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2));new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:this.$13,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1,greeting_text:d}).start();b("Arbiter").subscribe(b("Plugin").CONNECT,function(){f.$7&&f.$7.startChat(),f.$2&&f.$30()});b("Arbiter").subscribe(b("LiveChatPluginConstants").SWITCH_ACCOUNT,function(){f.$36(a,c,e),f.$2||f.$30()})};c.$35=function(a,c){this.$2||this.$30(),new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.$13,switch_user:!1,greeting_text:c}).addReturnParams({customer_chat_origin_uri:a,referer_uri:a}).start()};c.$30=function(){b("UnverifiedXD").send({type:this.$2?"liveChatPluginShowDialogIframe":"liveChatPluginHideDialogIframe",chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),isMobile:this.$3})};c.$19=function(a,c,d,e){this.$3&&!b("LiveChatPluginLocalStorageUtil").getChatStarted()?this.$28(a,c,d,e):this.$31(e)};c.$20=function(a,c){a&&a.document&&!c&&this.$4&&(a.document.body&&b("PluginDOMEventListener").add(a.document.body,"click",function(){}))};c.$36=function(a,c,d){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.$13,switch_user:!0,greeting_text:d}).addReturnParams({referer_uri:c}).start(),b("LiveChatPluginLoggerUtil").logAction("not_you_clicked",a,this.$13)};c.$32=function(){this.$6&&window.clearTimeout(this.$6),this.$5&&window.clearTimeout(this.$5)};c.$18=function(a,c,d,e,f,g,h,i,j,k,l){__p&&__p();e&&(b("LiveChatPluginLocalStorageUtil").init(c,d,"0",f),f=b("LiveChatPluginLocalStorageUtil").getRequestID(),b("LiveChatPluginLocalStorageUtil").removeLocalState(c,d,g));b("LiveChatPluginLocalStorageUtil").init(c,d,g,f);b("MessagingPluginGuestSessionStorageUtil").init(c,d);var m=b("MessagingPluginGuestSessionStorageUtil").getSessionKeyIfNotExpired();if(m!=null){this.$2=!1;this.$10=!1;this.$17=m;m=b("MessagingPluginGuestSessionStorageUtil").getSessionFBID();return(m=m)!=null?m:g}else b("LiveChatPluginLocalStorageUtil").getHasGuestSession()&&b("LiveChatPluginLocalStorageUtil").removeLocalState(c,d,g);m=b("LiveChatPluginLocalStorageUtil").getLocalState(c,d,g);!m?(e?this.$2=!1:h!=="unset"?(this.$2=h==="hide"||i>0,this.$10=j&&k):this.$2=this.$3?!1:i>0,b("LiveChatPluginLocalStorageUtil").setLocalState(c,d,g,{chatStarted:e||l,isDialogHidden:this.$2,requestID:f,refSent:!1,hasGuestSession:!1})):(this.$2=b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),this.$10=!1,a||(b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1)),b("LiveChatPluginLocalStorageUtil").setRequestID(f));return g};c.$24=function(a,c,d){b("MessagingPluginGuestSessionStorageUtil").removeSessionState(),b("LiveChatPluginLocalStorageUtil").removeLocalState(a,c,d),location.reload()};return a}();e.exports=a}),null);